!function(){"use strict";var t=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e,n,r,o,i;t.exports=(n=[],r=document,o=r.documentElement.doScroll,(i=(o?/^loaded|^c/:/^loaded|^i|^c/).test(r.readyState))||r.addEventListener("DOMContentLoaded",e=function(){for(r.removeEventListener("DOMContentLoaded",e),i=1;e=n.shift();)e()}),function(t){i?setTimeout(t,0):n.push(t)})}));function e(){}function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){var n=t.subscribe(e);return n.unsubscribe?function(){return n.unsubscribe()}:n}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function f(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function h(){return m(" ")}function v(){return m("")}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}var y,w=function(t,e){void 0===e&&(e=null),this.e=d("div"),this.a=e,this.u(t)};function k(t){y=t}function $(){if(!y)throw new Error("Function called outside component initialization");return y}w.prototype.m=function(t,e){void 0===e&&(e=null);for(var n=0;n<this.n.length;n+=1)u(t,this.n[n],e);this.t=t},w.prototype.u=function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)},w.prototype.p=function(t){this.d(),this.u(t),this.m(this.t,this.a)},w.prototype.d=function(){this.n.forEach(s)};var j=[],C=[],B=[],E=[],S=Promise.resolve(),_=!1;function N(t){B.push(t)}function A(){var t=new Set;do{for(;j.length;){var e=j.shift();k(e),T(e.$$)}for(;C.length;)C.pop()();for(var n=0;n<B.length;n+=1){var r=B[n];t.has(r)||(r(),t.add(r))}B.length=0}while(j.length);for(;E.length;)E.pop()();_=!1}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}var M,O=new Set;function D(){M={r:0,c:[],p:M}}function R(){M.r||o(M.c),M=M.p}function z(t,e){t&&t.i&&(O.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(O.has(t))return;O.add(t),M.c.push((function(){O.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function I(t,e){var n,r=e.token={};function o(t,n,o,i){if(e.token===r){e.resolved=i;var c=e.ctx;void 0!==o&&((c=c.slice())[o]=i);var l=t&&(e.current=t)(c),a=!1;e.block&&(e.blocks?e.blocks.forEach((function(t,r){r!==n&&t&&(D(),F(t,1,1,(function(){e.blocks[r]=null})),R())})):e.block.d(1),l.c(),z(l,1),l.m(e.mount(),e.anchor),a=!0),e.block=l,e.blocks&&(e.blocks[n]=l),a&&A()}}if((n=t)&&"object"==typeof n&&"function"==typeof n.then){var i=$();if(t.then((function(t){k(i),o(e.then,1,e.value,t),k(null)}),(function(t){k(i),o(e.catch,2,e.error,t),k(null)})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}var L="undefined"!=typeof window?window:global;function H(t){t&&t.c()}function X(t,e,r){var c=t.$$,l=c.fragment,a=c.on_mount,u=c.on_destroy,s=c.after_update;l&&l.m(e,r),N((function(){var e=a.map(n).filter(i);u?u.push.apply(u,e):o(e),t.$$.on_mount=[]})),s.forEach(N)}function q(t,e){var n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(j.push(t),_||(_=!0,S.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(t,n,i,c,l,a,u){void 0===u&&(u=[-1]);var s=y;k(t);var f=n.props||{},d=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:l,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:r(),dirty:u},p=!1;d.ctx=i?i(t,f,(function(e,n,r){return void 0===r&&(r=n),d.ctx&&l(d.ctx[e],d.ctx[e]=r)&&(d.bound[e]&&d.bound[e](r),p&&P(t,e)),n})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):d.fragment&&d.fragment.c(),n.intro&&z(t.$$.fragment),X(t,n.target,n.anchor),A()),k(s)}var U=function(){};U.prototype.$destroy=function(){q(this,1),this.$destroy=e},U.prototype.$on=function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},U.prototype.$set=function(){};var W=[];function V(t,n){var r;void 0===n&&(n=e);var o=[];function i(e){if(c(t,e)&&(t=e,r)){for(var n=!W.length,i=0;i<o.length;i+=1){var l=o[i];l[1](),W.push(l,t)}if(n){for(var a=0;a<W.length;a+=2)W[a][0](W[a+1]);W.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(c,l){void 0===l&&(l=e);var a=[c,l];return o.push(a),1===o.length&&(r=n(i)||e),c(t),function(){var t=o.indexOf(a);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}var Y={app:"https://p3k.org/rss",proxy:"https://p3k-services.appspot.com/roxy",referrers:"https://p3k-services.appspot.com/ferris?group=rssbox",feed:"https://blog.p3k.org/stories.xml"},J="http://localhost",G={app:J+":8000",proxy:J+":8080/roxy",referrers:J+":8080/ferris?group=rssbox",feed:"https://blog.p3k.org/stories.xml"};Object.keys(Y).forEach((function(t){t in G&&(G[t]=Y[t])}));var K={loading:!1,compact:!1,maxItems:3,format:"Error",version:"❌",title:"RSS Box Error",description:"This output was automatically generated to report an error that occurred during a request to the RSS Box Viewer.",image:"",items:[{title:"Oops, something went wrong…",description:"An error occurred while processing the request to the RSS Box Viewer."},{title:"The following error message was returned:",description:"Unknown error"},{title:""}]};function Z(t,e){var n=Object.assign({},K);return n.link=G.app+"?url="+t,n.items[1].description=e,n.items[2].description='Most likely, this might have happened because of a non-existent or invalid RSS feed URL. <a href="https://validator.w3.org/feed/check.cgi?url='+t+'">Please check</a> and possibly correct your input, then try again.',n}function tt(){var t=/([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9:]+).*$/,e=function(t,e,n){if(!t||!e)return null;var r="getElementsByTagName";return n&&(r+="NS"),e[r](t,n)[0]},n=function(t){return t?(t.length&&(t=t[0]),t.textContent):""},r=Error("Malformed RSS syntax"),o=function(t,n){var r=e("source",t),o=Array.apply(null,t.getElementsByTagName("enclosure")),i=e("category",t);return r&&(n.source={url:r.getAttribute("url"),title:r.textContent}),n.enclosures=o.map((function(t){return{url:t.getAttribute("url"),length:t.getAttribute("length"),type:t.getAttribute("type")}})),i&&(n.category={domain:i.getAttribute("domain")||"",content:i.textContent}),n},i=function(e){var n=Date.parse(e);return isNaN(n)&&(n=Date.parse(String(e).replace(t,"$1/$2/$3 $4")),isNaN(n)&&(n=Date.now())),new Date(n)};return{parse:function(t){var c=function(t){if(t){var n;if(document.implementation.createDocument){if(n=(new DOMParser).parseFromString(t,"application/xml"),e("parsererror",n.documentElement))throw r}else window.ActiveXObject&&((n=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t));return n}}(t).documentElement,l=c.nodeName;switch(l){case"feed":return function(t){var r={items:[],format:"Atom",version:"1.0"};r.title=n(e("title",t)),r.description=n(e("subtitle",t)),r.image="";var o=e("link:not([self])",t);return o&&(r.link=o.getAttribute("href")),r.date=i(e("updated",t)),Array.apply(null,t.getElementsByTagName("entry")).forEach((function(t){var o={title:n(e("title",t)),description:n(e("summary",t))},i=e("link",t);i&&(o.link=i.getAttribute("href")),r.items.push(o)})),r}(c);case"scriptingNews":return function(t){var c={items:[]},l=e("header",t);if(!l)throw r;c.format="Scripting News",c.version=n(e("scriptingNewsVersion",l)),c.title=n(e("channelTitle",l)),c.description=n(e("channelDescription",l)),c.link=n(e("channelLink",l)),c.date=i(n(e("lastBuildDate",l))||n(e("pubDate",l)));var a=e("imageUrl",l);return a&&(c.image={source:n(a),title:n(e("imageTitle",l)),link:n(e("imageLink",l)),width:n(e("imageWidth",l)),height:n(e("imageHeight",l)),description:n(e("imageCaption",l))}),Array.apply(null,t.getElementsByTagName("item")).forEach((function(t){var r={title:""};r.description=n(e("text",t)).replace(/\n/g," ");var i=e("link",t);if(i){var l=n(e("linetext",i)).replace(/\n/g," ").trim();l&&(r.description=r.description.replace(new RegExp(l),'<a href="'+n(e("url",t))+'">'+l+"</a>")),r.link=n(e("url",i))}o(t,r),c.items.push(r)})),c}(c);default:return function(t,c){var l={items:[]},a=e("channel",t);if(!a)throw r;l.format="RSS",l.version="rdf:RDF"===c?"1.0":t.getAttribute("version"),l.title=n(e("title",a)),l.description=n(e("description",a)),l.link=n(e("link",a));var u=e("image",a);if(l.image=u?{source:n(e("url",u))||u.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#","resource"),title:n(e("title",u)),link:n(e("link",u)),width:n(e("width",u)),height:n(e("height",u)),description:n(e("description",u))}:"","rdf:RDF"===c){var s=a.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/","date");l.date=i(n(s)),l.rights=n(a.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/","creator"));var f=e("textinput",t);l.input=f?{link:n(e("link",f)),description:n(e("description",f)),name:n(e("name",f)),title:n(e("title",f))}:""}else l.date=i(n(e("lastBuildDate",a))||n(e("pubDate",a))),l.rights=n(e("copyright",a));return Array.apply(null,t.getElementsByTagName("item")).forEach((function(t){var r={title:n(e("title",t)),description:n(e("description",t)),link:n(e("link",t))||n(e("guid",t))};if(!r.description){var i=n(e("encoded",t,"content"));i?r.description=i:(i=n(e("encoded",t)))&&(r.description=i)}o(t,r),l.items.push(r)})),l}(c,l)}}}}var et=function(t){var e=V(t),n=e.subscribe,r=e.update,o=function(t){return r((function(e){return Object.keys(t).forEach((function(n){n in e!=!1&&(e[n]=t[n],e=e)})),e}))};return{subscribe:n,update:o,set:o}};function nt(t){if(t){var e=this;e.set({loading:!0});var n=new Headers({Accept:["application/rss+xml","application/rdf+xml","application/atom+xml","application/xml;q=0.9","text/xml;q=0.8"].join()});fetch(G.proxy+"?url="+encodeURIComponent(t),{headers:n,referrerPolicy:"no-referrer"}).then((function(n){if(!n.ok)throw Error(n.statusText);n.text().then((function(t){var n=tt(),r=JSON.parse(t);if(r.headers["X-Roxy-Error"])throw Error(r.headers["X-Roxy-Error"]);var o=n.parse(r.content);o.date||(o.date=new Date(r.headers.date)),e.set(Object.assign({},o,{loading:!1}))})).catch((function(n){e.set(Z(t,n)),console.error(n)}))})).catch((function(n){e.set(Z(t,n)),console.error(n)}))}}var rt,ot=function(t){if(t){var e=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),r=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0");return t.getFullYear()+"-"+e+"-"+n+", "+r+":"+o+"h"}},it=function(){return et({align:"initial",boxFillColor:"#ffead2",compact:!1,fontFace:"10pt sans-serif",frameColor:"#b3a28e",headless:!1,height:"",linkColor:"#2c7395",maxItems:7,radius:5,showXmlButton:!0,textColor:"#95412b",titleBarColor:"#90a8b3",titleBarTextColor:"#ffead2",url:"",width:""})},ct=function(){var t=et({date:new Date,description:"",format:"",image:"",input:"",items:[],link:"",loading:!1,title:"",version:""});return t.fetch=nt.bind(t),t.formatDate=ot.bind(t),t},lt=(V({description:"RSS Box Viewer",version:"19.12.31"},rt).subscribe,it(),ct(),V([]));function at(t){var n,r,o,i;return{c:function(){n=p("svg"),r=p("g"),o=p("polygon"),i=p("polygon"),g(o,"points","2,2 5,2 5,3 3,3 3,9 9,9 9,7 10,7 10,10 2,10"),g(o,"class","svelte-mfbc6b"),g(i,"points","6.211,2 10,2 10,5.789 8.579,4.368 6.447,6.5 5.5,5.553 7.632,3.421"),g(i,"class","svelte-mfbc6b"),g(n,"xmlns","http://www.w3.org/2000/svg"),g(n,"viewBox","0 0 12 12"),g(n,"preserveAspectRatio","xMinYMin"),g(n,"class","svelte-mfbc6b")},m:function(t,e){u(t,n,e),a(n,r),a(r,o),a(r,i)},p:e,i:e,o:e,d:function(t){t&&s(n)}}}lt.fetch=function(){var t=this||lt;fetch(G.referrers).then((function(t){return t.json()})).then((function(e){var n=e.reduce((function(t,e){if(e.url.startsWith("http")&&!e.url.startsWith(G.app)){var n=e.url.replace(/^([^.]*)www\./,"$1"),r=n.split("/")[2],o=t[r];o?e.hits>o.hits&&(o.url=e.url,o.hits=e.hits):(o={host:r,url:n,hits:e.hits,total:0},t[r]=o,t.push(o)),o.total+=e.hits}return t}),[]),r=n.reduce((function(t,e){return t+e.total}),0),o=n.map((function(t){return t.percentage=t.total/r*100,t}));o.sort((function(t,e){return e.percentage-t.percentage})),t.set(o)}))}.bind(lt);var ut=function(t){function e(e){var n;t.call(this),document.getElementById("svelte-mfbc6b-style")||((n=d("style")).id="svelte-mfbc6b-style",n.textContent="svg.svelte-mfbc6b{width:1.2em;height:1.2em}polygon.svelte-mfbc6b{fill:currentColor;fill-rule:evenodd;clip-rule:evenodd}",a(document.head,n)),Q(this,e,null,at,c,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(U);function st(t){var n,r,o;return{c:function(){n=p("svg"),r=p("g"),g(o=p("path"),"d","M 384,192 Q 384,112 328,56 272,0 192,0 112,0 56,56 0,112 0,192 q 0,80 56,136 56,56 136,56 80,0 136,-56 56,-56 56,-136 z M 896,69 Q 898,41 879,21 861,0 832,0 H 697 Q 672,0 654,16.5 636,33 634,58 612,287 449.5,449.5 287,612 58,634 33,636 16.5,654 0,672 0,697 v 135 q 0,29 21,47 17,17 43,17 h 5 Q 229,883 375,815.5 521,748 634,634 748,521 815.5,375 883,229 896,69 z m 512,-2 Q 1410,40 1390,20 1372,0 1344,0 H 1201 Q 1175,0 1156.5,17.5 1138,35 1137,60 1125,275 1036,468.5 947,662 804.5,804.5 662,947 468.5,1036 275,1125 60,1138 35,1139 17.5,1157.5 0,1176 0,1201 v 143 q 0,28 20,46 18,18 44,18 h 3 Q 329,1395 568.5,1288 808,1181 994,994 1181,808 1288,568.5 1395,329 1408,67 z"),g(o,"class","svelte-ibnekz"),g(r,"transform","matrix(1,0,0,-1,212.61017,1346.1695)"),g(n,"xmlns","http://www.w3.org/2000/svg"),g(n,"viewBox","0 -256 1792 1792"),g(n,"preserveAspectRatio","xMinYMin"),g(n,"class","svelte-ibnekz")},m:function(t,e){u(t,n,e),a(n,r),a(r,o)},p:e,i:e,o:e,d:function(t){t&&s(n)}}}var ft=function(t){function e(e){var n;t.call(this),document.getElementById("svelte-ibnekz-style")||((n=d("style")).id="svelte-ibnekz-style",n.textContent="svg.svelte-ibnekz{width:1em;height:1em}path.svelte-ibnekz{fill:currentColor}",a(document.head,n)),Q(this,e,null,st,c,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(U);function dt(t){var n,r;return{c:function(){n=p("svg"),g(r=p("path"),"d","m409 531l-5.244 6.733c-.983 1.262-.708 3.511.55 4.497 1.259.986 3.5.71 4.484-.552l5.244-6.733.655-.842c.656-.842.472-2.341-.367-2.998-.839-.658-2.334-.473-2.989.368l-.656.842-3.933 5.05-.656.842c-.328.421-.236 1.17.183 1.499.42.329 1.167.237 1.495-.184l4.589-5.891.839.658-4.589 5.891c-.656.842-2.15 1.026-2.989.368-.839-.658-1.023-2.157-.367-2.998l.656-.842 4.589-5.891c.983-1.262 3.225-1.538 4.484-.552 1.259.986 1.534 3.235.551 4.497l-.656.842-5.244 6.733c-1.311 1.683-4.3 2.051-5.978.736-1.678-1.315-2.045-4.313-.734-5.997l5.244-6.733.839.658"),g(r,"transform","matrix(.84782 0 0 .84521-338.85-445.68)"),g(r,"stroke","none"),g(r,"class","svelte-1bdkb67"),g(n,"xmlns","http://www.w3.org/2000/svg"),g(n,"viewBox","0 0 16 16"),g(n,"preserveAspectRatio","xMinYMin"),g(n,"class","svelte-1bdkb67")},m:function(t,e){u(t,n,e),a(n,r)},p:e,i:e,o:e,d:function(t){t&&s(n)}}}var pt=function(t){function e(e){var n;t.call(this),document.getElementById("svelte-1bdkb67-style")||((n=d("style")).id="svelte-1bdkb67-style",n.textContent="svg.svelte-1bdkb67{width:1.2em;height:1.2em}path.svelte-1bdkb67{fill:currentColor}",a(document.head,n)),Q(this,e,null,dt,c,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(U),mt=L.document;function ht(t,e,n){var r=t.slice();return r[10]=e[n],r}function vt(t,e,n){var r=t.slice();return r[7]=e[n],r[9]=n,r}function gt(t){var e,n,r,o,i,c,l,f,p,v,y=t[6].title+"",w=t[0].formatDate(t[6].date)+"",k=t[3].showXmlButton&&bt(t);return{c:function(){e=d("div"),k&&k.c(),n=h(),r=d("div"),o=d("a"),i=m(y),l=h(),f=d("div"),p=m(w),g(o,"href",c=t[6].link),x(o,"color",t[3].titleBarTextColor),g(f,"class","rssbox-date svelte-1rjx8bp"),g(e,"class","rssbox-titlebar svelte-1rjx8bp"),x(e,"color",t[3].titleBarTextColor),x(e,"background-color",t[3].titleBarColor),x(e,"border-bottom-color",t[3].frameColor)},m:function(t,c){u(t,e,c),k&&k.m(e,null),a(e,n),a(e,r),a(r,o),a(o,i),a(e,l),a(e,f),a(f,p),v=!0},p:function(t,r){t[3].showXmlButton?k?(k.p(t,r),z(k,1)):((k=bt(t)).c(),z(k,1),k.m(e,n)):k&&(D(),F(k,1,1,(function(){k=null})),R()),(!v||64&r)&&y!==(y=t[6].title+"")&&b(i,y),(!v||64&r&&c!==(c=t[6].link))&&g(o,"href",c),(!v||8&r)&&x(o,"color",t[3].titleBarTextColor),(!v||65&r)&&w!==(w=t[0].formatDate(t[6].date)+"")&&b(p,w),(!v||8&r)&&x(e,"color",t[3].titleBarTextColor),(!v||8&r)&&x(e,"background-color",t[3].titleBarColor),(!v||8&r)&&x(e,"border-bottom-color",t[3].frameColor)},i:function(t){v||(z(k),v=!0)},o:function(t){F(k),v=!1},d:function(t){t&&s(e),k&&k.d()}}}function bt(t){var e,n,r,o,i,c=new ft({});return{c:function(){e=d("div"),n=d("a"),H(c.$$.fragment),g(n,"href",r=t[3].url),g(n,"title",o=t[6].format+" "+t[6].version),x(n,"color",t[3].titleBarTextColor),g(e,"class","rssbox-icon svelte-1rjx8bp")},m:function(t,r){u(t,e,r),a(e,n),X(c,n,null),i=!0},p:function(t,e){(!i||8&e&&r!==(r=t[3].url))&&g(n,"href",r),(!i||64&e&&o!==(o=t[6].format+" "+t[6].version))&&g(n,"title",o),(!i||8&e)&&x(n,"color",t[3].titleBarTextColor)},i:function(t){i||(z(c.$$.fragment,t),i=!0)},o:function(t){F(c.$$.fragment,t),i=!1},d:function(t){t&&s(e),q(c)}}}function xt(t){var e,n,r={ctx:t,current:null,token:null,pending:kt,then:wt,catch:yt,value:13};return I(n=zt(t[6].image),r),{c:function(){e=v(),r.block.c()},m:function(t,n){u(t,e,n),r.block.m(t,r.anchor=n),r.mount=function(){return e.parentNode},r.anchor=e},p:function(e,o){if(t=e,r.ctx=t,64&o&&n!==(n=zt(t[6].image))&&I(n,r));else{var i=t.slice();i[13]=r.resolved,r.block.p(i,o)}},d:function(t){t&&s(e),r.block.d(t),r.token=null,r=null}}}function yt(t){return{c:e,m:e,p:e,d:e}}function wt(t){var e,n,r,o,i;return{c:function(){e=d("a"),g(n=d("div"),"alt",r=t[6].image.description),g(n,"class","rssbox-image svelte-1rjx8bp"),x(n,"background-image","url("+t[6].image.source+")"),x(n,"width",t[13].width),x(n,"height",t[13].height),g(e,"href",o=t[6].image.link),g(e,"title",i=t[6].image.title),g(e,"class","svelte-1rjx8bp")},m:function(t,r){u(t,e,r),a(e,n)},p:function(t,c){64&c&&r!==(r=t[6].image.description)&&g(n,"alt",r),64&c&&x(n,"background-image","url("+t[6].image.source+")"),64&c&&x(n,"width",t[13].width),64&c&&x(n,"height",t[13].height),64&c&&o!==(o=t[6].image.link)&&g(e,"href",o),64&c&&i!==(i=t[6].image.title)&&g(e,"title",i)},d:function(t){t&&s(e)}}}function kt(t){return{c:e,m:e,p:e,d:e}}function $t(t){var e,n,r,o=t[7].title&&jt(t),i=!t[3].compact&&Et(t);return{c:function(){e=d("div"),o&&o.c(),n=h(),i&&i.c(),g(e,"class","rssbox-item-content rssBoxItemContent"),x(e,"color",t[3].textColor)},m:function(t,c){u(t,e,c),o&&o.m(e,null),a(e,n),i&&i.m(e,null),r=!0},p:function(t,c){t[7].title?o?o.p(t,c):((o=jt(t)).c(),o.m(e,n)):o&&(o.d(1),o=null),t[3].compact?i&&(D(),F(i,1,1,(function(){i=null})),R()):i?(i.p(t,c),z(i,1)):((i=Et(t)).c(),z(i,1),i.m(e,null)),(!r||8&c)&&x(e,"color",t[3].textColor)},i:function(t){r||(z(i),r=!0)},o:function(t){F(i),r=!1},d:function(t){t&&s(e),o&&o.d(),i&&i.d()}}}function jt(t){var e,n;function r(t,e){return t[7].link?Bt:Ct}var o=r(t),i=o(t);return{c:function(){e=d("div"),i.c(),g(e,"class",n="rssbox-item-title "+t[5]+" svelte-1rjx8bp")},m:function(t,n){u(t,e,n),i.m(e,null)},p:function(t,c){o===(o=r(t))&&i?i.p(t,c):(i.d(1),(i=o(t))&&(i.c(),i.m(e,null))),32&c&&n!==(n="rssbox-item-title "+t[5]+" svelte-1rjx8bp")&&g(e,"class",n)},d:function(t){t&&s(e),i.d()}}}function Ct(t){var e,n=t[7].title+"";return{c:function(){e=new w(n,null)},m:function(t,n){e.m(t,n)},p:function(t,r){64&r&&n!==(n=t[7].title+"")&&e.p(n)},d:function(t){t&&e.d()}}}function Bt(t){var e,n,r=t[7].title+"";return{c:function(){g(e=d("a"),"href",n=t[7].link),g(e,"class","svelte-1rjx8bp")},m:function(t,n){u(t,e,n),e.innerHTML=r},p:function(t,o){64&o&&r!==(r=t[7].title+"")&&(e.innerHTML=r),64&o&&n!==(n=t[7].link)&&g(e,"href",n)},d:function(t){t&&s(e)}}}function Et(t){var e,n,r,o,i,c=t[7].description+"",l=t[7].source&&St(t),f=t[7].enclosures&&At(t);return{c:function(){e=d("aside"),l&&l.c(),n=h(),f&&f.c(),r=h(),g(e,"class","svelte-1rjx8bp"),o=new w(c,null)},m:function(t,c){u(t,e,c),l&&l.m(e,null),a(e,n),f&&f.m(e,null),u(t,r,c),o.m(t,c),i=!0},p:function(t,r){t[7].source?l?(l.p(t,r),z(l,1)):((l=St(t)).c(),z(l,1),l.m(e,n)):l&&(D(),F(l,1,1,(function(){l=null})),R()),t[7].enclosures?f?(f.p(t,r),z(f,1)):((f=At(t)).c(),z(f,1),f.m(e,null)):f&&(D(),F(f,1,1,(function(){f=null})),R()),(!i||64&r)&&c!==(c=t[7].description+"")&&o.p(c)},i:function(t){i||(z(l),z(f),i=!0)},o:function(t){F(l),F(f),i=!1},d:function(t){t&&s(e),l&&l.d(),f&&f.d(),t&&s(r),t&&o.d()}}}function St(t){var e,n,r,o,i,c,l,a=[Nt,_t],f=[];function p(t,e){return 64&e&&(n=!!t[7].source.url.endsWith(".xml")),n?0:1}return r=p(t,-1),o=f[r]=a[r](t),{c:function(){e=d("a"),o.c(),g(e,"href",i=t[7].source.url),g(e,"title",c=t[7].source.title),g(e,"class","rssbox-source svelte-1rjx8bp")},m:function(t,n){u(t,e,n),f[r].m(e,null),l=!0},p:function(t,n){var u=r;(r=p(t,n))!==u&&(D(),F(f[u],1,1,(function(){f[u]=null})),R(),(o=f[r])||(o=f[r]=a[r](t)).c(),z(o,1),o.m(e,null)),(!l||64&n&&i!==(i=t[7].source.url))&&g(e,"href",i),(!l||64&n&&c!==(c=t[7].source.title))&&g(e,"title",c)},i:function(t){l||(z(o),l=!0)},o:function(t){F(o),l=!1},d:function(t){t&&s(e),f[r].d()}}}function _t(t){var e,n=new ut({});return{c:function(){H(n.$$.fragment)},m:function(t,r){X(n,t,r),e=!0},i:function(t){e||(z(n.$$.fragment,t),e=!0)},o:function(t){F(n.$$.fragment,t),e=!1},d:function(t){q(n,t)}}}function Nt(t){var e,n=new ft({});return{c:function(){H(n.$$.fragment)},m:function(t,r){X(n,t,r),e=!0},i:function(t){e||(z(n.$$.fragment,t),e=!0)},o:function(t){F(n.$$.fragment,t),e=!1},d:function(t){q(n,t)}}}function At(t){for(var e,n,r=t[7].enclosures,o=[],i=0;i<r.length;i+=1)o[i]=Tt(ht(t,r,i));var c=function(t){return F(o[t],1,1,(function(){o[t]=null}))};return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();e=v()},m:function(t,r){for(var i=0;i<o.length;i+=1)o[i].m(t,r);u(t,e,r),n=!0},p:function(t,n){if(64&n){var i;for(r=t[7].enclosures,i=0;i<r.length;i+=1){var l=ht(t,r,i);o[i]?(o[i].p(l,n),z(o[i],1)):(o[i]=Tt(l),o[i].c(),z(o[i],1),o[i].m(e.parentNode,e))}for(D(),i=r.length;i<o.length;i+=1)c(i);R()}},i:function(t){if(!n){for(var e=0;e<r.length;e+=1)z(o[e]);n=!0}},o:function(t){o=o.filter(Boolean);for(var e=0;e<o.length;e+=1)F(o[e]);n=!1},d:function(t){f(o,t),t&&s(e)}}}function Tt(t){var e,n,r,o,i,c=new pt({});return{c:function(){e=d("a"),H(c.$$.fragment),n=h(),g(e,"href",r=t[10].url),g(e,"title",o=Rt(t[10].length)+" "+t[10].type),g(e,"class","rssbox-enclosure svelte-1rjx8bp")},m:function(t,r){u(t,e,r),X(c,e,null),a(e,n),i=!0},p:function(t,n){(!i||64&n&&r!==(r=t[10].url))&&g(e,"href",r),(!i||64&n&&o!==(o=Rt(t[10].length)+" "+t[10].type))&&g(e,"title",o)},i:function(t){i||(z(c.$$.fragment,t),i=!0)},o:function(t){F(c.$$.fragment,t),i=!1},d:function(t){t&&s(e),q(c)}}}function Mt(t){var e,n,r=t[9]<t[3].maxItems&&$t(t);return{c:function(){r&&r.c(),e=v()},m:function(t,o){r&&r.m(t,o),u(t,e,o),n=!0},p:function(t,n){t[9]<t[3].maxItems?r?(r.p(t,n),z(r,1)):((r=$t(t)).c(),z(r,1),r.m(e.parentNode,e)):r&&(D(),F(r,1,1,(function(){r=null})),R())},i:function(t){n||(z(r),n=!0)},o:function(t){F(r),n=!1},d:function(t){r&&r.d(t),t&&s(e)}}}function Ot(t){var e,n,r,o,i;return{c:function(){e=d("form"),g(n=d("input"),"type","text"),g(n,"name",r=t[6].input.name),g(n,"placeholder","Enter search & hit return…"),g(n,"data-placeholder",o=t[6].input.description),g(n,"class","svelte-1rjx8bp"),g(e,"class","rssbox-form svelte-1rjx8bp"),g(e,"method","get"),g(e,"action",i=t[6].input.link)},m:function(t,r){u(t,e,r),a(e,n)},p:function(t,c){64&c&&r!==(r=t[6].input.name)&&g(n,"name",r),64&c&&o!==(o=t[6].input.description)&&g(n,"data-placeholder",o),64&c&&i!==(i=t[6].input.link)&&g(e,"action",i)},d:function(t){t&&s(e)}}}function Dt(t){for(var e,n,r,o,i,c,l,p,v,b,y,w=!t[3].headless&&gt(t),k=t[6].image&&!t[3].compact&&xt(t),$=t[6].items,j=[],C=0;C<$.length;C+=1)j[C]=Mt(vt(t,$,C));var B=function(t){return F(j[t],1,1,(function(){j[t]=null}))},E=t[6].input&&Ot(t);return{c:function(){e=d("div"),w&&w.c(),n=h(),r=d("div"),k&&k.c(),o=h();for(var a=0;a<j.length;a+=1)j[a].c();i=h(),E&&E.c(),c=h(),l=d("div"),p=d("a"),v=m("RSS Box by p3k.org"),g(p,"href",G.app),x(p,"color",t[3].textColor),g(p,"class","svelte-1rjx8bp"),g(l,"class","rssbox-promo rssBoxPromo svelte-1rjx8bp"),g(r,"class","rssbox-content rssBoxContent svelte-1rjx8bp"),x(r,"background-color",t[3].boxFillColor),x(r,"height",t[2]),g(e,"data-link-color",b=t[3].linkColor),g(e,"class","rssbox rssBox svelte-1rjx8bp"),x(e,"max-width",t[4]),x(e,"border-color",t[3].frameColor),x(e,"border-radius",t[3].radius+"px"),x(e,"font",t[3].fontFace),x(e,"float",t[3].align)},m:function(t,s){u(t,e,s),w&&w.m(e,null),a(e,n),a(e,r),k&&k.m(r,null),a(r,o);for(var f=0;f<j.length;f+=1)j[f].m(r,null);a(r,i),E&&E.m(r,null),a(r,c),a(r,l),a(l,p),a(p,v),y=!0},p:function(t,l){var a=l[0];if(t[3].headless?w&&(D(),F(w,1,1,(function(){w=null})),R()):w?(w.p(t,a),z(w,1)):((w=gt(t)).c(),z(w,1),w.m(e,n)),t[6].image&&!t[3].compact?k?k.p(t,a):((k=xt(t)).c(),k.m(r,o)):k&&(k.d(1),k=null),104&a){var u;for($=t[6].items,u=0;u<$.length;u+=1){var s=vt(t,$,u);j[u]?(j[u].p(s,a),z(j[u],1)):(j[u]=Mt(s),j[u].c(),z(j[u],1),j[u].m(r,i))}for(D(),u=$.length;u<j.length;u+=1)B(u);R()}t[6].input?E?E.p(t,a):((E=Ot(t)).c(),E.m(r,c)):E&&(E.d(1),E=null),(!y||8&a)&&x(p,"color",t[3].textColor),(!y||8&a)&&x(r,"background-color",t[3].boxFillColor),(!y||4&a)&&x(r,"height",t[2]),(!y||8&a&&b!==(b=t[3].linkColor))&&g(e,"data-link-color",b),(!y||16&a)&&x(e,"max-width",t[4]),(!y||8&a)&&x(e,"border-color",t[3].frameColor),(!y||8&a)&&x(e,"border-radius",t[3].radius+"px"),(!y||8&a)&&x(e,"font",t[3].fontFace),(!y||8&a)&&x(e,"float",t[3].align)},i:function(t){if(!y){z(w);for(var e=0;e<$.length;e+=1)z(j[e]);y=!0}},o:function(t){F(w),j=j.filter(Boolean);for(var e=0;e<j.length;e+=1)F(j[e]);y=!1},d:function(t){t&&s(e),w&&w.d(),k&&k.d(),f(j,t),E&&E.d()}}}function Rt(t){return(t/1e3).toFixed(2)+" kB"}function zt(t){return new Promise((function(e){var n=new Image;n.onload=function(){var t=Math.min(100,n.width),r=n.width>t?t/n.width:1;e({width:n.width*r+"px",height:n.height*r+"px"})},n.src=t.source}))}function Ft(t,n,r){var o,i,c=e,a=function(){return c(),c=l(v,(function(t){return r(3,o=t)})),v},u=e,s=function(){return u(),u=l(f,(function(t){return r(6,i=t)})),f};t.$$.on_destroy.push((function(){return c()})),t.$$.on_destroy.push((function(){return u()}));var f=n.feed;s();var d,p,m,h,v=n.config;return a(),d=function(){var t=window["rssbox-static-stylesheet"],e=window["rssbox-dynamic-stylesheet"];t||((t=document.createElement("link")).id="rssbox-static-stylesheet",t.rel="stylesheet",t.href=G.app+"/box.css",document.head.appendChild(t)),e||((e=document.createElement("style")).id="rssbox-dynamic-stylesheet",document.head.appendChild(e)),v.subscribe((function(t){var n=t.linkColor;if(n){var r='.rssbox[data-link-color="'+n+'"] a {\n          color: '+n+";\n        }";e.innerHTML.indexOf(r)<0&&(e.innerHTML+=r)}}))},$().$$.on_mount.push(d),t.$set=function(t){"feed"in t&&s(r(0,f=t.feed)),"config"in t&&a(r(1,v=t.config))},t.$$.update=function(){8&t.$$.dirty&&r(2,p=o.height&&o.height>-1?o.height+"px":"100%"),8&t.$$.dirty&&r(4,m=o.width?o.width+"px":"100%"),8&t.$$.dirty&&r(5,h=o.compact?"":"bold")},[f,v,p,o,m,h,i]}var It=function(t){function e(e){var n;t.call(this),mt.getElementById("svelte-1rjx8bp-style")||((n=d("style")).id="svelte-1rjx8bp-style",n.textContent=".rssbox.svelte-1rjx8bp.svelte-1rjx8bp{box-sizing:border-box;width:100%;border:1px solid #000;font-family:sans-serif;overflow:hidden;border-radius:0;-moz-border-radius:0}.rssbox-icon.svelte-1rjx8bp.svelte-1rjx8bp{float:right;width:1em;margin-left:0.5em}.rssbox-titlebar.svelte-1rjx8bp.svelte-1rjx8bp{padding:0.5em;color:#000;background-color:#add8e6;border-bottom:1px solid #000;font-weight:bold;letter-spacing:0.01em}.rssbox-date.svelte-1rjx8bp.svelte-1rjx8bp{margin-top:0.2em;font-size:0.8em;font-weight:normal}.rssbox-content.svelte-1rjx8bp.svelte-1rjx8bp{height:auto;padding:0.5em;overflow-x:hidden;overflow-y:auto;background-color:#fff;clear:both;-ms-overflow-style:-ms-autohiding-scrollbar}.rssbox-content.svelte-1rjx8bp aside.svelte-1rjx8bp{clear:both;float:right}.rssbox-content.svelte-1rjx8bp aside a.svelte-1rjx8bp{display:block;margin-left:0.5em}.rssbox-image.svelte-1rjx8bp.svelte-1rjx8bp{float:right;margin:0 0 0.5em 0.5em;background-position:left center;background-repeat:no-repeat;background-size:contain}.rssbox-item-title.bold.svelte-1rjx8bp.svelte-1rjx8bp{font-weight:bold}.rssbox-enclosure.svelte-1rjx8bp.svelte-1rjx8bp,.rssbox-source.svelte-1rjx8bp.svelte-1rjx8bp{display:block;width:1em}.rssbox-form.svelte-1rjx8bp.svelte-1rjx8bp{margin-bottom:0.8em}.rssbox-form.svelte-1rjx8bp input.svelte-1rjx8bp{padding:0.5em;background-color:#fff}.rssbox-promo.svelte-1rjx8bp.svelte-1rjx8bp{text-align:right;font-size:0.7em;letter-spacing:0.01em}",a(mt.head,n)),Q(this,e,Ft,Dt,c,{feed:0,config:1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(U),Lt={align:"initial",boxFillColor:"#fff",compact:!1,fontFace:"inherit",frameColor:"#000",headless:!1,height:"",linkColor:"",maxItems:7,radius:0,showXmlButton:!1,textColor:"#000",titleBarColor:"#add8e6",titleBarTextColor:"#000",width:"200"},Ht=Object.keys(Lt).concat(["url"]);t((function(){var t=function(t){var e=document.createElement("iframe");document.body.appendChild(e);var n=e.contentWindow[t];return document.body.removeChild(e),n}("Array").prototype.reduce,e=G.app.replace(/^https?:/,"");Array.apply(null,document.querySelectorAll('script[src*="'+e+'"]')).forEach((function(e){var n=e.src.split("?")[1];if(n){var r=function(e){var n=e.split("&");return t.call(n,(function(t,e){var n=e.split("="),r=n[0],o=n[1];return Ht.indexOf(r)>-1&&(t[r]=function(t){return"true"===t||"false"!==t&&t}(decodeURIComponent(o))),t}),{})}(n);r.url||(r.url=G.feed),r=Object.assign({},Lt,r);var o=ct(),i=it();i.set(r),o.fetch(r.url,o);var c=e.parentNode,l=document.createElement("div");c.insertBefore(l,e),new It({target:l,props:{feed:o,config:i}}),e.parentNode.removeChild(e)}})),location.href.indexOf(G.app)<0&&fetch(G.referrers+"&url="+encodeURIComponent(location.href))}))}();
//# sourceMappingURL=box.js.map

!function(){"use strict";var t,e,n=(t=function(t){t.exports=function(){var t,e=[],n=document,r="DOMContentLoaded",o=(n.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener(r,t=function(){for(n.removeEventListener(r,t),o=1;t=e.shift();)t()}),function(t){o?setTimeout(t,0):e.push(t)}}()},e=void 0,t(e={exports:{}},e.exports),e.exports);function r(){}function o(t){for(var e,n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t}function i(t,e){e.appendChild(t)}function s(t,e,n){e.insertBefore(t,n)}function a(t){t.parentNode.removeChild(t)}function l(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function c(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}function u(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function d(){return document.createComment("")}function m(t,e,n){t.setAttribute(e,n)}function p(t,e,n){t.style.setProperty(e,n)}function g(){return Object.create(null)}function v(t){this.destroy=r,this.fire("destroy"),this.set=this.get=r,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function x(t,e){return t!==e||t&&"object"==typeof t||"function"==typeof t}function _(t,e,n,r,o){for(var i in e)if(n[i]){var s=r[i],a=o[i],l=e[i];if(l)for(var c=0;c<l.length;c+=1){var u=l[c];u.__calling||(u.__calling=!0,u.call(t,s,a),u.__calling=!1)}}}function b(t){return t?this._state[t]:this._state}function $(t,e){t._observers={pre:g(),post:g()},t._handlers=g(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function w(t,e,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[t]||(r[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=r[t].indexOf(e);~n&&r[t].splice(n,1)}}}function y(t){for(;t&&t.length;)t.pop()()}function C(){this.store._remove(this)}var k={destroy:v,get:b,fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,e)},observe:w,on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(o({},t)),this.root._lock||(this.root._lock=!0,y(this.root._beforecreate),y(this.root._oncreate),y(this.root._aftercreate),this.root._lock=!1)},teardown:v,_recompute:r,_set:function(t){var e=this._state,n={},r=!1;for(var i in t)x(t[i],e[i])&&(n[i]=r=!0);r&&(this._state=o({},e,t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(_(this,this._observers.pre,n,this._state,e),this._fragment.p(n,this._state),_(this,this._observers.post,n,this._state,e)))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()}};function B(t){this._observers={pre:g(),post:g()},this._changeHandlers=[],this._dependents=[],this._computed=g(),this._sortedComputedProperties=[],this._state=o({},t)}o(B.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n];e["$"+r]=this._state[r]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],r=g();function o(i){if(t[i])throw new Error("Cyclical dependency detected");if(!r[i]){r[i]=!0;var s=e[i];s&&(t[i]=!0,s.deps.forEach(o),n.push(s))}}for(var i in this._computed)t=g(),o(i)},compute:function(t,e,n){var r,o={deps:e,update:function(o,i,s){var a=e.map(function(t){return t in i&&(s=!0),o[t]});if(s){var l=n.apply(null,a);x(l,r)&&(r=l,i[t]=!0,o[t]=r)}}};o.update(this._state,{},!0),this._computed[t]=o,this._sortComputedProperties()},get:b,observe:w,onchange:function(t){return this._changeHandlers.push(t),{cancel:function(){var e=this._changeHandlers.indexOf(t);~e&&this._changeHandlers.splice(e,1)}}},set:function(t){var e=this._state,n=this._changed={},r=!1;for(var i in t){if(this._computed[i])throw new Error("'"+i+"' is a read-only property");x(t[i],e[i])&&(n[i]=r=!0)}if(r){this._state=o({},e,t);for(var s=0;s<this._sortedComputedProperties.length;s+=1)this._sortedComputedProperties[s].update(this._state,n);for(s=0;s<this._changeHandlers.length;s+=1)this._changeHandlers[s](this._state,n);_(this,this._observers.pre,n,this._state,e);var a=this._dependents.slice();for(s=0;s<a.length;s+=1){var l=a[s],c={};r=!1;for(var u=0;u<l.props.length;u+=1){var h=l.props[u];h in n&&(c["$"+h]=this._state[h],r=!0)}r&&l.component.set(c)}_(this,this._observers.post,n,this._state,e)}}});function T(){var t="http://purl.org/dc/elements/1.1/",e=/([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9:]+).*$/,n=function(t,e,n){if(!t||!e)return null;var r="getElementsByTagName";return n&&(r+="NS"),e[r](t,n)[0]},r=function(t){return t?(t.length&&(t=t[0]),t.textContent):""},o=Error("Malformed RSS syntax"),i=function(t,e){var r=n("source",t),o=Array.apply(null,t.getElementsByTagName("enclosure")),i=n("category",t);return r&&(e.source={url:r.getAttribute("url"),title:r.textContent}),e.enclosures=o.map(function(t){return{url:t.getAttribute("url"),length:t.getAttribute("length"),type:t.getAttribute("type")}}),i&&(e.category={domain:i.getAttribute("domain")||"",content:i.textContent}),e},s=function(t){var n=Date.parse(t);return isNaN(n)&&(n=Date.parse(String(t).replace(e,"$1/$2/$3 $4")),isNaN(n)&&(n=Date.now())),new Date(n)};return{parse:function(e){var a=function(t){if(t){var e;return document.implementation.createDocument?e=(new DOMParser).parseFromString(t,"application/xml"):window.ActiveXObject&&((e=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)),e}}(e).documentElement,l=a.nodeName;switch(l){case"feed":return function(t){var e={items:[]};e.format="Atom",e.version="1.0",e.title=r(n("title",t)),e.description=r(n("subtitle",t)),e.image="";var o=n("link:not([self])",t);o&&(e.link=o.getAttribute("href")),e.date=s(n("updated",t));return Array.apply(null,t.getElementsByTagName("entry")).forEach(function(t){var o={title:r(n("title",t)),description:r(n("summary",t))},i=n("link",t);i&&(o.link=i.getAttribute("href")),e.items.push(o)}),e}(a);case"scriptingNews":return function(t){var e={items:[]},a=n("header",t);if(!a)throw o;e.format="Scripting News",e.version=r(n("scriptingNewsVersion",a)),e.title=r(n("channelTitle",a)),e.description=r(n("channelDescription",a)),e.link=r(n("channelLink",a)),e.date=s(r(n("lastBuildDate",a))||r(n("pubDate",a)));var l=n("imageUrl",a);l&&(e.image={source:r(l),title:r(n("imageTitle",a)),link:r(n("imageLink",a)),width:r(n("imageWidth",a)),height:r(n("imageHeight",a)),description:r(n("imageCaption",a))});return Array.apply(null,t.getElementsByTagName("item")).forEach(function(t){var o={title:""};o.description=r(n("text",t)).replace(/\n/g," ");var s=n("link",t);if(s){var a=r(n("linetext",s)).replace(/\n/g," ").trim();a&&(o.description=o.description.replace(new RegExp(a),'<a href="'+r(n("url",t))+'">'+a+"</a>")),o.link=r(n("url",s))}i(t,o),e.items.push(o)}),e}(a);default:return function(e,a){var l={items:[]},c=n("channel",e);if(!c)throw o;l.format="RSS",l.version="rdf:RDF"===a?"1.0":e.getAttribute("version"),l.title=r(n("title",c)),l.description=r(n("description",c)),l.link=r(n("link",c));var u=n("image",c);if(l.image=u?{source:r(n("url",u))||u.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#","resource"),title:r(n("title",u)),link:r(n("link",u)),width:r(n("width",u)),height:r(n("height",u)),description:r(n("description",u))}:"","rdf:RDF"===a){var h=c.getElementsByTagNameNS(t,"date");l.date=s(r(h)),l.rights=r(c.getElementsByTagNameNS(t,"creator"));var f=n("textinput",e);l.input=f?{link:r(n("link",f)),description:r(n("description",f)),name:r(n("name",f)),title:r(n("title",f))}:""}else l.date=s(r(n("lastBuildDate",c))||r(n("pubDate",c))),l.rights=r(n("copyright",c));return Array.apply(null,e.getElementsByTagName("item")).forEach(function(t){var e={title:r(n("title",t)),description:r(n("description",t)),link:r(n("link",t))||r(n("guid",t))};if(!e.description){var o=r(n("encoded",t,"content"));o?e.description=o:(o=r(n("encoded",t)))&&(e.description=o)}i(t,e),l.items.push(e)}),l}(a,l)}}}}var N="https://20191215t133215-dot-p3k-services.appspot.com",S={stage:{app:"https://p3k.org/rss-stage",proxy:N+"/roxy",referrers:N+"/ferris?group=test"},mixed:{app:"http://localhost:8000",proxy:N+"/roxy",referrers:N+"/ferris?group=rssbox"},prod:{app:"https://p3k.org/rss",proxy:"https://p3k-services.appspot.com/roxy",referrers:"https://p3k-services.appspot.com/ferris?group=rssbox",default:"https://blog.p3k.org/stories.xml"}}.dev||{},E={align:"initial",boxFillColor:"#fff",compact:!1,fontFace:"inherit",frameColor:"#000",headless:!1,height:"",linkColor:"",maxItems:7,radius:0,showXmlButton:!1,textColor:"#000",titleBarColor:"#add8e6",titleBarTextColor:"#000",width:200},A=["align","boxFillColor","compact","fontFace","frameColor","headless","height","linkColor","maxItems","radius","showXmlButton","textColor","titleBarColor","titleBarTextColor","url","width"],M="http://localhost",D={app:M+":8000",proxy:M+":8080/roxy",referrers:M+":8080/ferris?group=rssbox",default:"https://blog.p3k.org/stories.xml"};for(var F in D)F in S&&(D[F]=S[F]);var H={loading:!1,compact:!1,maxItems:3,format:"Error",version:"❌",title:"RSS Box Error",description:"This output was automatically generated to report an error that occurred during a request to the  RSS Box Viewer.",items:[{title:"Oops, something went wrong…",description:"An error occurred while processing the request to the RSS Box Viewer."},{title:"The following error message was returned:",description:"Unknown error"},{title:""}]};function R(t,e){var n=Object.assign({},H);return n.link=D.app+"?url="+t,n.items[1].description=e,n.items[2].description='Most likely, this might have happened because of a non-existent or invalid RSS feed URL. <a href="https://validator.w3.org/feed/check.cgi?url='+t+'">Please check</a> and possibly correct your input, then try again.',n}var O=function(t){function e(){var e={date:new Date,description:"",format:"",image:"",input:"",items:[],title:"",version:""};t.call(this,e),this.compute("formattedDate",["date"],function(t){if(t){var e=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),r=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0");return t.getFullYear()+"-"+e+"-"+n+", "+r+":"+o+"h"}}),this.observe("url",this.fetch,{init:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fetch=function(){var t=this,e=this.get("url");e&&(this.set({loading:!0}),fetch(D.proxy+"?url="+encodeURIComponent(e)).then(function(n){if(!n.ok)throw Error(n.statusText);n.text().then(function(e){var n=T(),r=JSON.parse(e);if(r.headers["X-Roxy-Error"])throw Error(r.headers["X-Roxy-Error"]);var o=n.parse(r.content);o.date||(o.date=new Date(r.headers.date)),o.loading=!1,t.set(o)}).catch(function(n){t.set(R(e,n)),console.error(n)})}).catch(function(n){t.set(R(e,n)),console.error(n)}))},e}(B);function I(t){m(t,"svelte-940045756","")}function L(t){$(this,t),this._state=o({},t.data),document.getElementById("svelte-940045756-style")||function(){var t=u("style");t.id="svelte-940045756-style",t.textContent="svg[svelte-940045756]{width:1.2em;height:1.2em}polygon[svelte-940045756]{fill:currentColor;fill-rule:evenodd;clip-rule:evenodd}",i(t,document.head)}(),this._fragment=function(t,e){var n,o,l,c;return{c:function(){n=h("svg"),o=h("g"),l=h("polygon"),c=h("polygon"),this.h()},h:function(){I(n),I(l),m(l,"points","2,2 5,2 5,3 3,3 3,9 9,9 9,7 10,7 10,10 2,10"),I(c),m(c,"points","6.211,2 10,2 10,5.789 8.579,4.368 6.447,6.5 5.5,5.553 7.632,3.421"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"viewBox","0 0 12 12"),m(n,"preserveAspectRatio","xMinYMin")},m:function(t,e){s(n,t,e),i(o,n),i(l,o),i(c,o)},p:r,u:function(){a(n)},d:r}}(this._state),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}o(L.prototype,k);function j(t){m(t,"svelte-2589761347","")}function P(t){$(this,t),this._state=o({},t.data),document.getElementById("svelte-2589761347-style")||function(){var t=u("style");t.id="svelte-2589761347-style",t.textContent="svg[svelte-2589761347]{width:1em;height:1em}path[svelte-2589761347]{fill:currentColor}",i(t,document.head)}(),this._fragment=function(t,e){var n,o,l;return{c:function(){n=h("svg"),o=h("g"),l=h("path"),this.h()},h:function(){j(n),j(l),m(l,"d","M 384,192 Q 384,112 328,56 272,0 192,0 112,0 56,56 0,112 0,192 q 0,80 56,136 56,56 136,56 80,0 136,-56 56,-56 56,-136 z M 896,69 Q 898,41 879,21 861,0 832,0 H 697 Q 672,0 654,16.5 636,33 634,58 612,287 449.5,449.5 287,612 58,634 33,636 16.5,654 0,672 0,697 v 135 q 0,29 21,47 17,17 43,17 h 5 Q 229,883 375,815.5 521,748 634,634 748,521 815.5,375 883,229 896,69 z m 512,-2 Q 1410,40 1390,20 1372,0 1344,0 H 1201 Q 1175,0 1156.5,17.5 1138,35 1137,60 1125,275 1036,468.5 947,662 804.5,804.5 662,947 468.5,1036 275,1125 60,1138 35,1139 17.5,1157.5 0,1176 0,1201 v 143 q 0,28 20,46 18,18 44,18 h 3 Q 329,1395 568.5,1288 808,1181 994,994 1181,808 1288,568.5 1395,329 1408,67 z"),m(o,"transform","matrix(1,0,0,-1,212.61017,1346.1695)"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"viewBox","0 -256 1792 1792"),m(n,"preserveAspectRatio","xMinYMin")},m:function(t,e){s(n,t,e),i(o,n),i(l,o)},p:r,u:function(){a(n)},d:r}}(this._state),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}o(P.prototype,k);function X(t){m(t,"svelte-2967622608","")}function z(t){$(this,t),this._state=o({},t.data),document.getElementById("svelte-2967622608-style")||function(){var t=u("style");t.id="svelte-2967622608-style",t.textContent="svg[svelte-2967622608]{width:1.2em;height:1.2em}path[svelte-2967622608]{fill:currentColor}",i(t,document.head)}(),this._fragment=function(t,e){var n,o;return{c:function(){n=h("svg"),o=h("path"),this.h()},h:function(){X(n),X(o),m(o,"d","m409 531l-5.244 6.733c-.983 1.262-.708 3.511.55 4.497 1.259.986 3.5.71 4.484-.552l5.244-6.733.655-.842c.656-.842.472-2.341-.367-2.998-.839-.658-2.334-.473-2.989.368l-.656.842-3.933 5.05-.656.842c-.328.421-.236 1.17.183 1.499.42.329 1.167.237 1.495-.184l4.589-5.891.839.658-4.589 5.891c-.656.842-2.15 1.026-2.989.368-.839-.658-1.023-2.157-.367-2.998l.656-.842 4.589-5.891c.983-1.262 3.225-1.538 4.484-.552 1.259.986 1.534 3.235.551 4.497l-.656.842-5.244 6.733c-1.311 1.683-4.3 2.051-5.978.736-1.678-1.315-2.045-4.313-.734-5.997l5.244-6.733.839.658"),m(o,"transform","matrix(.84782 0 0 .84521-338.85-445.68)"),m(o,"stroke","none"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"viewBox","0 0 16 16"),m(n,"preserveAspectRatio","xMinYMin")},m:function(t,e){s(n,t,e),i(o,n)},p:r,u:function(){a(n)},d:r}}(this._state),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}o(z.prototype,k);function Q(t){return(t/1e3).toFixed(2)+" kB"}function q(t){return new Promise(function(e){var n=new Image;n.onload=function(){var t=Math.min(100,n.width),r=n.width>t?t/n.width:1;e({width:n.width*r+"px",height:n.height*r+"px"})},n.src=t.source})}function U(t){m(t,"svelte-1374782793","")}function Y(t,e){for(var n,r,o,l,h,d,m,g,v=!t.$headless&&W(t,e),x=t.$image&&!t.$compact&&Z(t,e),_=t.$items,b=[],$=0;$<_.length;$+=1)b[$]=tt(t,_,_[$],$,e);var w=t.$input&&ht(t,e);return{c:function(){n=u("div"),v&&v.c(),r=f("\n\n  "),o=u("div"),x&&x.c(),l=f("\n\n    ");for(var t=0;t<b.length;t+=1)b[t].c();h=f("\n\n    "),w&&w.c(),d=f("\n    "),m=u("div"),(g=u("a")).textContent="RSS Box by p3k.org",this.h()},h:function(){U(n),U(o),U(m),g.href=(e=void 0,void 0===e&&(e=null),D.app);var e;p(g,"color",t.$textColor),m.className="rssbox-promo rssBoxPromo",o.className="rssbox-content rssBoxContent",p(o,"background-color",t.$boxFillColor),p(o,"height",t.height),n.dataset.linkColor=t.$linkColor,n.className="rssbox rssBox",p(n,"max-width",t.width),p(n,"border-color",t.$frameColor),p(n,"border-radius",t.$radius+"px"),p(n,"font",t.$fontFace),p(n,"float",t.$align)},m:function(t,e){s(n,t,e),v&&v.m(n,null),i(r,n),i(o,n),x&&x.m(o,null),i(l,o);for(var a=0;a<b.length;a+=1)b[a].m(o,null);i(h,o),w&&w.m(o,null),i(d,o),i(m,o),i(g,m)},p:function(t,i){i.$headless?v&&(v.u(),v.d(),v=null):v?v.p(t,i):((v=W(i,e)).c(),v.m(n,r)),i.$image&&!i.$compact?x?x.p(t,i):((x=Z(i,e)).c(),x.m(o,l)):x&&(x.u(),x.d(),x=null);var s=i.$items;if(t.$maxItems||t.$textColor||t.$items||t.itemTitleClass||t.$compact){for(var a=0;a<s.length;a+=1)b[a]?b[a].p(t,i,s,s[a],a):(b[a]=tt(i,s,s[a],a,e),b[a].c(),b[a].m(o,h));for(;a<b.length;a+=1)b[a].u(),b[a].d();b.length=s.length}i.$input?w?w.p(t,i):((w=ht(i,e)).c(),w.m(o,d)):w&&(w.u(),w.d(),w=null),t.$textColor&&p(g,"color",i.$textColor),t.$boxFillColor&&p(o,"background-color",i.$boxFillColor),t.height&&p(o,"height",i.height),t.$linkColor&&(n.dataset.linkColor=i.$linkColor),t.width&&p(n,"max-width",i.width),t.$frameColor&&p(n,"border-color",i.$frameColor),t.$radius&&p(n,"border-radius",i.$radius+"px"),t.$fontFace&&p(n,"font",i.$fontFace),t.$align&&p(n,"float",i.$align)},u:function(){a(n),v&&v.u(),x&&x.u();for(var t=0;t<b.length;t+=1)b[t].u();w&&w.u()},d:function(){v&&v.d(),x&&x.d(),c(b),w&&w.d()}}}function V(t,e){var n,r,o,l=new P({root:e.root});return{c:function(){n=u("div"),r=u("a"),l._fragment.c(),this.h()},h:function(){U(n),r.href=t.$url,r.title=o=t.$format+" "+t.$version,p(r,"color",t.$titleBarTextColor),n.className="rssbox-icon"},m:function(t,e){s(n,t,e),i(r,n),l._mount(r,null)},p:function(t,e){t.$url&&(r.href=e.$url),(t.$format||t.$version)&&o!==(o=e.$format+" "+e.$version)&&(r.title=o),t.$titleBarTextColor&&p(r,"color",e.$titleBarTextColor)},u:function(){a(n)},d:function(){l.destroy(!1)}}}function W(t,e){var n,r,o,l,c,h,d,m,g=t.$showXmlButton&&V(t,e);return{c:function(){n=u("div"),g&&g.c(),r=f("\n      "),o=u("div"),l=u("a"),c=f(t.$title),h=f("\n      "),d=u("div"),m=f(t.$formattedDate),this.h()},h:function(){U(n),l.href=t.$link,p(l,"color",t.$titleBarTextColor),U(d),d.className="rssbox-date",n.className="rssbox-titlebar",p(n,"color",t.$titleBarTextColor),p(n,"background-color",t.$titleBarColor),p(n,"border-bottom-color",t.$frameColor)},m:function(t,e){s(n,t,e),g&&g.m(n,null),i(r,n),i(o,n),i(l,o),i(c,l),i(h,n),i(d,n),i(m,d)},p:function(t,o){o.$showXmlButton?g?g.p(t,o):((g=V(o,e)).c(),g.m(n,r)):g&&(g.u(),g.d(),g=null),t.$title&&(c.data=o.$title),t.$link&&(l.href=o.$link),t.$titleBarTextColor&&p(l,"color",o.$titleBarTextColor),t.$formattedDate&&(m.data=o.$formattedDate),t.$titleBarTextColor&&p(n,"color",o.$titleBarTextColor),t.$titleBarColor&&p(n,"background-color",o.$titleBarColor),t.$frameColor&&p(n,"border-bottom-color",o.$frameColor)},u:function(){a(n),g&&g.u()},d:function(){g&&g.d()}}}function J(t,e,n){return{c:r,m:r,p:r,u:r,d:r}}function G(t,e,n){var o,l,c,h,f;return{c:function(){o=u("a"),l=u("div"),this.h()},h:function(){U(l),m(l,"alt",c=t.$image.description),l.className="rssbox-image",p(l,"background-image","url("+t.$image.source+")"),p(l,"width",e.width),p(l,"height",e.height),o.href=h=t.$image.link,o.title=f=t.$image.title},m:function(t,e){s(o,t,e),i(l,o)},p:function(t,e,n){t.$image&&c!==(c=e.$image.description)&&m(l,"alt",c),t.$image&&(p(l,"background-image","url("+e.$image.source+")"),p(l,"width",n.width),p(l,"height",n.height)),t.$image&&h!==(h=e.$image.link)&&(o.href=h),t.$image&&f!==(f=e.$image.title)&&(o.title=f)},u:function(){a(o)},d:r}}function K(t,e,n){return{c:r,m:r,p:r,u:r,d:r}}function Z(t,e){var n,r,o,i,l,c;function u(t,s,a,l){if(t===i){var u=r;r=(o=s)(l,c=a,e),u&&(u.u(),u.d(),r.c(),r.m(n.parentNode,n))}}function h(t,e){var n=i={};if((r=t)&&"function"==typeof r.then){if(t.then(function(t){u(n,G,t,e)},function(t){u(n,K,t,e)}),o!==J)return u(n,J,null,e),!0}else if(c=t,o!==G)return u(n,G,c,e),!0;var r}return h(l=q(t.$image),t),{c:function(){n=d(),r.c()},m:function(t,e){s(n,t,e),r.m(t,e)},p:function(t,e){"$image"in t&&l!==(l=q(e.$image))&&h(l,e)||r.p(t,e,c)},u:function(){a(n),r.u()},d:function(){i=null,r.d()}}}function tt(t,e,n,r,o){var i,l=r<t.$maxItems&&ut(t,e,n,r,o);return{c:function(){l&&l.c(),i=d()},m:function(t,e){l&&l.m(t,e),s(i,t,e)},p:function(t,e,n,r,s){s<e.$maxItems?l?l.p(t,e,n,r,s):((l=ut(e,n,r,s,o)).c(),l.m(i.parentNode,i)):l&&(l.u(),l.d(),l=null)},u:function(){l&&l.u(),a(i)},d:function(){l&&l.d()}}}function et(t,e,n,o,i){var l,c,h=n.title;return{c:function(){l=u("a"),this.h()},h:function(){l.href=c=n.link},m:function(t,e){s(l,t,e),l.innerHTML=h},p:function(t,e,n,r,o){t.$items&&h!==(h=r.title)&&(l.innerHTML=h),t.$items&&c!==(c=r.link)&&(l.href=c)},u:function(){l.innerHTML="",a(l)},d:r}}function nt(t,e,n,o,i){var c,h,f=n.title;return{c:function(){c=u("noscript"),h=u("noscript")},m:function(t,e){s(c,t,e),c.insertAdjacentHTML("afterend",f),s(h,t,e)},p:function(t,e,n,r,o){t.$items&&f!==(f=r.title)&&(l(c,h),c.insertAdjacentHTML("afterend",f))},u:function(){l(c,h),a(c),a(h)},d:r}}function rt(t,e,n,r,o){var i,l,c=ft(t,e,n,r),h=c(t,e,n,r,o);return{c:function(){i=u("div"),h.c(),this.h()},h:function(){U(i),i.className=l="rssbox-item-title "+t.itemTitleClass},m:function(t,e){s(i,t,e),h.m(i,null)},p:function(t,e,n,r,s){c===(c=ft(e,n,r,s))&&h?h.p(t,e,n,r,s):(h.u(),h.d(),(h=c(e,n,r,s,o)).c(),h.m(i,null)),t.itemTitleClass&&l!==(l="rssbox-item-title "+e.itemTitleClass)&&(i.className=l)},u:function(){a(i),h.u()},d:function(){h.d()}}}function ot(t,e,n,r,o){var i=new P({root:o.root});return{c:function(){i._fragment.c()},m:function(t,e){i._mount(t,e)},u:function(){i._unmount()},d:function(){i.destroy(!1)}}}function it(t,e,n,r,o){var i=new L({root:o.root});return{c:function(){i._fragment.c()},m:function(t,e){i._mount(t,e)},u:function(){i._unmount()},d:function(){i.destroy(!1)}}}function st(t,e,n,r,o){var i,l,c,h=dt(t,e,n,r),f=h(t,e,n,r,o);return{c:function(){i=u("a"),f.c(),this.h()},h:function(){U(i),i.href=l=n.source.url,i.title=c=n.source.title,i.className="rssbox-source"},m:function(t,e){s(i,t,e),f.m(i,null)},p:function(t,e,n,r,s){h!==(h=dt(e,n,r,s))&&(f.u(),f.d(),(f=h(e,n,r,s,o)).c(),f.m(i,null)),t.$items&&l!==(l=r.source.url)&&(i.href=l),t.$items&&c!==(c=r.source.title)&&(i.title=c)},u:function(){a(i),f.u()},d:function(){f.d()}}}function at(t,e,n,r,o,i,l,c){var h,f,d,m=new z({root:c.root});return{c:function(){h=u("a"),m._fragment.c(),this.h()},h:function(){U(h),h.href=f=i.url,h.title=d=Q(i.length)+" "+i.type,h.className="rssbox-enclosure"},m:function(t,e){s(h,t,e),m._mount(h,null)},p:function(t,e,n,r,o,i,s,a){t.$items&&f!==(f=s.url)&&(h.href=f),t.$items&&d!==(d=Q(s.length)+" "+s.type)&&(h.title=d)},u:function(){a(h)},d:function(){m.destroy(!1)}}}function lt(t,e,n,r,o){for(var i,l=n.enclosures,u=[],h=0;h<l.length;h+=1)u[h]=at(0,0,0,0,0,l[h],0,o);return{c:function(){for(var t=0;t<u.length;t+=1)u[t].c();i=d()},m:function(t,e){for(var n=0;n<u.length;n+=1)u[n].m(t,e);s(i,t,e)},p:function(t,e,n,r,s){var a=r.enclosures;if(t.$items){for(var l=0;l<a.length;l+=1)u[l]?u[l].p(t,e,n,r,s,a,a[l],l):(u[l]=at(0,0,0,0,0,a[l],0,o),u[l].c(),u[l].m(i.parentNode,i));for(;l<u.length;l+=1)u[l].u(),u[l].d();u.length=a.length}},u:function(){for(var t=0;t<u.length;t+=1)u[t].u();a(i)},d:function(){c(u)}}}function ct(t,e,n,r,o){var c,h,d,m,p,g=n.description,v=n.source&&st(t,e,n,r,o),x=n.enclosures&&lt(0,0,n,0,o);return{c:function(){c=u("aside"),v&&v.c(),h=f("\n\n              "),x&&x.c(),d=f("\n            "),m=u("noscript"),p=u("noscript"),this.h()},h:function(){U(c)},m:function(t,e){s(c,t,e),v&&v.m(c,null),i(h,c),x&&x.m(c,null),s(d,t,e),s(m,t,e),m.insertAdjacentHTML("afterend",g),s(p,t,e)},p:function(t,e,n,r,i){r.source?v?v.p(t,e,n,r,i):((v=st(e,n,r,i,o)).c(),v.m(c,h)):v&&(v.u(),v.d(),v=null),r.enclosures?x?x.p(t,e,n,r,i):((x=lt(0,0,r,0,o)).c(),x.m(c,null)):x&&(x.u(),x.d(),x=null),t.$items&&g!==(g=r.description)&&(l(m,p),m.insertAdjacentHTML("afterend",g))},u:function(){l(m,p),a(c),v&&v.u(),x&&x.u(),a(d),a(m),a(p)},d:function(){v&&v.d(),x&&x.d()}}}function ut(t,e,n,r,o){var l,c,h=n.title&&rt(t,e,n,r,o),d=!t.$compact&&ct(t,e,n,r,o);return{c:function(){l=u("div"),h&&h.c(),c=f("\n\n          "),d&&d.c(),this.h()},h:function(){U(l),l.className="rssbox-item-content rssBoxItemContent",p(l,"color",t.$textColor)},m:function(t,e){s(l,t,e),h&&h.m(l,null),i(c,l),d&&d.m(l,null)},p:function(t,e,n,r,i){r.title?h?h.p(t,e,n,r,i):((h=rt(e,n,r,i,o)).c(),h.m(l,c)):h&&(h.u(),h.d(),h=null),e.$compact?d&&(d.u(),d.d(),d=null):d?d.p(t,e,n,r,i):((d=ct(e,n,r,i,o)).c(),d.m(l,null)),t.$textColor&&p(l,"color",e.$textColor)},u:function(){a(l),h&&h.u(),d&&d.u()},d:function(){h&&h.d(),d&&d.d()}}}function ht(t,e){var n,o,l,c,h;return{c:function(){n=u("form"),o=u("input"),this.h()},h:function(){U(n),U(o),o.type="text",o.name=l=t.$input.name,o.placeholder="Enter search & hit return…",o.dataset.placeholder=c=t.$input.description,n.className="rssbox-form",n.method="get",n.action=h=t.$input.link},m:function(t,e){s(n,t,e),i(o,n)},p:function(t,e){t.$input&&l!==(l=e.$input.name)&&(o.name=l),t.$input&&c!==(c=e.$input.description)&&(o.dataset.placeholder=c),t.$input&&h!==(h=e.$input.link)&&(n.action=h)},u:function(){a(n)},d:r}}function ft(t,e,n,r){return n.link?et:nt}function dt(t,e,n,r){return n.source.url.endsWith(".xml")?ot:it}function mt(t){$(this,t),this._state=o(this.store._init(["height","width","compact","linkColor","frameColor","radius","fontFace","align","headless","titleBarTextColor","titleBarColor","showXmlButton","url","format","version","link","title","formattedDate","boxFillColor","image","items","maxItems","textColor","input"]),t.data),this.store._add(this,["height","width","compact","linkColor","frameColor","radius","fontFace","align","headless","titleBarTextColor","titleBarColor","showXmlButton","url","format","version","link","title","formattedDate","boxFillColor","image","items","maxItems","textColor","input"]),this._recompute({$height:1,$width:1,$compact:1},this._state),this._handlers.destroy=[C],document.getElementById("svelte-1374782793-style")||function(){var t=u("style");t.id="svelte-1374782793-style",t.textContent=".rssbox[svelte-1374782793]{box-sizing:border-box;width:100%;border:1px solid #000;font-family:sans-serif;overflow:hidden;border-radius:0;-moz-border-radius:0}.rssbox-icon[svelte-1374782793]{float:right;width:1em;margin-left:0.5em}.rssbox-titlebar[svelte-1374782793]{padding:0.5em;color:#000;background-color:#add8e6;border-bottom:1px solid #000;font-weight:bold;letter-spacing:0.01em}.rssbox-date[svelte-1374782793]{margin-top:0.2em;font-size:0.8em;font-weight:normal}.rssbox-content[svelte-1374782793]{height:auto;padding:0.5em;overflow-x:hidden;overflow-y:auto;background-color:#fff;clear:both;-ms-overflow-style:-ms-autohiding-scrollbar}.rssbox-content[svelte-1374782793] aside[svelte-1374782793]{clear:both;float:right}.rssbox-content[svelte-1374782793] aside a[svelte-1374782793]{display:block;margin-left:0.5em}.rssbox-image[svelte-1374782793]{float:right;margin:0 0 0.5em 0.5em;background-position:left center;background-repeat:no-repeat;background-size:contain}.rssbox-item-title.bold[svelte-1374782793]{font-weight:bold}.rssbox-enclosure[svelte-1374782793],.rssbox-source[svelte-1374782793]{display:block;width:1em}.rssbox-form[svelte-1374782793]{margin-bottom:0.8em}.rssbox-form[svelte-1374782793] input[svelte-1374782793]{padding:0.5em;background-color:#fff}.rssbox-promo[svelte-1374782793]{text-align:right;font-size:0.7em;letter-spacing:0.01em}",i(t,document.head)}();var e=function(){var t="rssbox-static-stylesheet",e="rssbox-dynamic-stylesheet",n=window[t],r=window[e];n||((n=document.createElement("link")).id=t,n.rel="stylesheet",n.href=D.app+"/box.css",document.head.appendChild(n)),r||((r=document.createElement("style")).id=e,document.head.appendChild(r)),this.store.observe("linkColor",function(t){if(t){var e='.rssbox[data-link-color="'+t+'"] a {\n        color: '+t+";\n      }";r.innerHTML.indexOf(e)<0&&(r.innerHTML+=e)}})}.bind(this);t.root?this.root._oncreate.push(e):(this._oncreate=[e],this._beforecreate=[],this._aftercreate=[]),this._fragment=Y(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),this._lock=!0,y(this._beforecreate),y(this._oncreate),y(this._aftercreate),this._lock=!1)}o(mt.prototype,k),mt.prototype._recompute=function(t,e){t.$height&&x(e.height,e.height=(n=e.$height,n&&n>-1?n+"px":"100%"))&&(t.height=!0);var n;t.$width&&x(e.width,e.width=(r=e.$width,r?r+"px":"100%"))&&(t.width=!0);var r;t.$compact&&x(e.itemTitleClass,e.itemTitleClass=(o=e.$compact,o?"":"bold"))&&(t.itemTitleClass=!0);var o};n(function(t){var e=document.createElement("script");e.src="https://cdn.polyfill.io/v2/polyfill.min.js?features="+["fetch","Object.assign","Promise","String.prototype.padStart"].join(),e.defer=e.async=!0,e.onload=t,document.head.appendChild(e)}(function(){var t=function(t){var e=document.createElement("iframe");document.body.appendChild(e);var n=e.contentWindow[t];return document.body.removeChild(e),n}("Array").prototype.reduce,e=D.app;Array.apply(null,document.querySelectorAll('script[src*="'+e+'"]')).forEach(function(e){var n=e.src.split("?")[1];if(n){var r=function(e){var n=e.split("&");return t.call(n,function(t,e){var n=e.split("="),r=n[0],o=n[1];A.indexOf(r)>-1&&(t[r]=(i=decodeURIComponent(o),"true"===i||"false"!==i&&i));var i;return t},{})}(n);r.url||(r.url=D.default),r=Object.assign({},E,r);var o=new O;o.set(r);var i=e.parentNode,s=document.createElement("div");i.insertBefore(s,e),new mt({target:s,store:o}),e.parentNode.removeChild(e)}}),location.href.indexOf(D.app)<0&&fetch(D.referrers+"&url="+encodeURIComponent(location.href))}))}();
//# sourceMappingURL=box.js.map

{"version":3,"file":"box.js","sources":["../node_modules/domready/ready.js","../node_modules/svelte/shared.js","../node_modules/svelte/store.js","../src/RssParser.js","../src/local.js","../src/settings.js","../src/error.js","../src/RssStore.js","../components/Box.html","../src/box.js","../src/polyfill.io.js"],"sourcesContent":["/*!\n  * domready (c) Dustin Diaz 2014 - License MIT\n  */\n!function (name, definition) {\n\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)\n  else this[name] = definition()\n\n}('domready', function () {\n\n  var fns = [], listener\n    , doc = document\n    , hack = doc.documentElement.doScroll\n    , domContentLoaded = 'DOMContentLoaded'\n    , loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState)\n\n\n  if (!loaded)\n  doc.addEventListener(domContentLoaded, listener = function () {\n    doc.removeEventListener(domContentLoaded, listener)\n    loaded = 1\n    while (listener = fns.shift()) listener()\n  })\n\n  return function (fn) {\n    loaded ? setTimeout(fn, 0) : fns.push(fn)\n  }\n\n});\n","function noop() {}\n\nfunction assign(target) {\n\tvar k,\n\t\tsource,\n\t\ti = 1,\n\t\tlen = arguments.length;\n\tfor (; i < len; i++) {\n\t\tsource = arguments[i];\n\t\tfor (k in source) target[k] = source[k];\n\t}\n\n\treturn target;\n}\n\nfunction appendNode(node, target) {\n\ttarget.appendChild(node);\n}\n\nfunction insertNode(node, target, anchor) {\n\ttarget.insertBefore(node, anchor);\n}\n\nfunction detachNode(node) {\n\tnode.parentNode.removeChild(node);\n}\n\nfunction detachBetween(before, after) {\n\twhile (before.nextSibling && before.nextSibling !== after) {\n\t\tbefore.parentNode.removeChild(before.nextSibling);\n\t}\n}\n\nfunction detachBefore(after) {\n\twhile (after.previousSibling) {\n\t\tafter.parentNode.removeChild(after.previousSibling);\n\t}\n}\n\nfunction detachAfter(before) {\n\twhile (before.nextSibling) {\n\t\tbefore.parentNode.removeChild(before.nextSibling);\n\t}\n}\n\nfunction reinsertBetween(before, after, target) {\n\twhile (before.nextSibling && before.nextSibling !== after) {\n\t\ttarget.appendChild(before.parentNode.removeChild(before.nextSibling));\n\t}\n}\n\nfunction reinsertChildren(parent, target) {\n\twhile (parent.firstChild) target.appendChild(parent.firstChild);\n}\n\nfunction reinsertAfter(before, target) {\n\twhile (before.nextSibling) target.appendChild(before.nextSibling);\n}\n\nfunction reinsertBefore(after, target) {\n\tvar parent = after.parentNode;\n\twhile (parent.firstChild !== after) target.appendChild(parent.firstChild);\n}\n\nfunction destroyEach(iterations) {\n\tfor (var i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d();\n\t}\n}\n\nfunction createFragment() {\n\treturn document.createDocumentFragment();\n}\n\nfunction createElement(name) {\n\treturn document.createElement(name);\n}\n\nfunction createSvgElement(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\nfunction createText(data) {\n\treturn document.createTextNode(data);\n}\n\nfunction createComment() {\n\treturn document.createComment('');\n}\n\nfunction addListener(node, event, handler) {\n\tnode.addEventListener(event, handler, false);\n}\n\nfunction removeListener(node, event, handler) {\n\tnode.removeEventListener(event, handler, false);\n}\n\nfunction setAttribute(node, attribute, value) {\n\tnode.setAttribute(attribute, value);\n}\n\nfunction setXlinkAttribute(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\nfunction getBindingGroupValue(group) {\n\tvar value = [];\n\tfor (var i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.push(group[i].__value);\n\t}\n\treturn value;\n}\n\nfunction toNumber(value) {\n\treturn value === '' ? undefined : +value;\n}\n\nfunction timeRangesToArray(ranges) {\n\tvar array = [];\n\tfor (var i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\nfunction children (element) {\n\treturn Array.from(element.childNodes);\n}\n\nfunction claimElement (nodes, name, attributes, svg) {\n\tfor (var i = 0; i < nodes.length; i += 1) {\n\t\tvar node = nodes[i];\n\t\tif (node.nodeName === name) {\n\t\t\tfor (var j = 0; j < node.attributes.length; j += 1) {\n\t\t\t\tvar attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) node.removeAttribute(attribute.name);\n\t\t\t}\n\t\t\treturn nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n\t\t}\n\t}\n\n\treturn svg ? createSvgElement(name) : createElement(name);\n}\n\nfunction claimText (nodes, data) {\n\tfor (var i = 0; i < nodes.length; i += 1) {\n\t\tvar node = nodes[i];\n\t\tif (node.nodeType === 3) {\n\t\t\tnode.data = data;\n\t\t\treturn nodes.splice(i, 1)[0];\n\t\t}\n\t}\n\n\treturn createText(data);\n}\n\nfunction setInputType(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {}\n}\n\nfunction setStyle(node, key, value) {\n\tnode.style.setProperty(key, value);\n}\n\nfunction selectOption(select, value) {\n\tfor (var i = 0; i < select.options.length; i += 1) {\n\t\tvar option = select.options[i];\n\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nfunction selectOptions(select, value) {\n\tfor (var i = 0; i < select.options.length; i += 1) {\n\t\tvar option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nfunction selectValue(select) {\n\tvar selectedOption = select.querySelector(':checked') || select.options[0];\n\treturn selectedOption && selectedOption.__value;\n}\n\nfunction selectMultipleValue(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), function(option) {\n\t\treturn option.__value;\n\t});\n}\n\nfunction linear(t) {\n\treturn t;\n}\n\nfunction generateRule(\n\ta,\n\tb,\n\tdelta,\n\tduration,\n\tease,\n\tfn\n) {\n\tvar keyframes = '{\\n';\n\n\tfor (var p = 0; p <= 1; p += 16.666 / duration) {\n\t\tvar t = a + delta * ease(p);\n\t\tkeyframes += p * 100 + '%{' + fn(t) + '}\\n';\n\t}\n\n\treturn keyframes + '100% {' + fn(b) + '}\\n}';\n}\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n\tvar hash = 5381;\n\tvar i = str.length;\n\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\nfunction wrapTransition(component, node, fn, params, intro, outgroup) {\n\tvar obj = fn(node, params);\n\tvar duration = obj.duration || 300;\n\tvar ease = obj.easing || linear;\n\tvar cssText;\n\n\t// TODO share <style> tag between all transitions?\n\tif (obj.css && !transitionManager.stylesheet) {\n\t\tvar style = createElement('style');\n\t\tdocument.head.appendChild(style);\n\t\ttransitionManager.stylesheet = style.sheet;\n\t}\n\n\tif (intro) {\n\t\tif (obj.css && obj.delay) {\n\t\t\tcssText = node.style.cssText;\n\t\t\tnode.style.cssText += obj.css(0);\n\t\t}\n\n\t\tif (obj.tick) obj.tick(0);\n\t}\n\n\treturn {\n\t\tt: intro ? 0 : 1,\n\t\trunning: false,\n\t\tprogram: null,\n\t\tpending: null,\n\t\trun: function(intro, callback) {\n\t\t\tvar program = {\n\t\t\t\tstart: window.performance.now() + (obj.delay || 0),\n\t\t\t\tintro: intro,\n\t\t\t\tcallback: callback\n\t\t\t};\n\n\t\t\tif (obj.delay) {\n\t\t\t\tthis.pending = program;\n\t\t\t} else {\n\t\t\t\tthis.start(program);\n\t\t\t}\n\n\t\t\tif (!this.running) {\n\t\t\t\tthis.running = true;\n\t\t\t\ttransitionManager.add(this);\n\t\t\t}\n\t\t},\n\t\tstart: function(program) {\n\t\t\tcomponent.fire(program.intro ? 'intro.start' : 'outro.start', { node: node });\n\n\t\t\tprogram.a = this.t;\n\t\t\tprogram.b = program.intro ? 1 : 0;\n\t\t\tprogram.delta = program.b - program.a;\n\t\t\tprogram.duration = duration * Math.abs(program.b - program.a);\n\t\t\tprogram.end = program.start + program.duration;\n\n\t\t\tif (obj.css) {\n\t\t\t\tif (obj.delay) node.style.cssText = cssText;\n\n\t\t\t\tprogram.rule = generateRule(\n\t\t\t\t\tprogram.a,\n\t\t\t\t\tprogram.b,\n\t\t\t\t\tprogram.delta,\n\t\t\t\t\tprogram.duration,\n\t\t\t\t\tease,\n\t\t\t\t\tobj.css\n\t\t\t\t);\n\n\t\t\t\ttransitionManager.addRule(program.rule, program.name = '__svelte_' + hash(program.rule));\n\n\t\t\t\tnode.style.animation = (node.style.animation || '')\n\t\t\t\t\t.split(', ')\n\t\t\t\t\t.filter(function(anim) {\n\t\t\t\t\t\t// when introing, discard old animations if there are any\n\t\t\t\t\t\treturn anim && (program.delta < 0 || !/__svelte/.test(anim));\n\t\t\t\t\t})\n\t\t\t\t\t.concat(program.name + ' ' + duration + 'ms linear 1 forwards')\n\t\t\t\t\t.join(', ');\n\t\t\t}\n\n\t\t\tthis.program = program;\n\t\t\tthis.pending = null;\n\t\t},\n\t\tupdate: function(now) {\n\t\t\tvar program = this.program;\n\t\t\tif (!program) return;\n\n\t\t\tvar p = now - program.start;\n\t\t\tthis.t = program.a + program.delta * ease(p / program.duration);\n\t\t\tif (obj.tick) obj.tick(this.t);\n\t\t},\n\t\tdone: function() {\n\t\t\tvar program = this.program;\n\t\t\tthis.t = program.b;\n\t\t\tif (obj.tick) obj.tick(this.t);\n\t\t\tif (obj.css) transitionManager.deleteRule(node, program.name);\n\t\t\tprogram.callback();\n\t\t\tprogram = null;\n\t\t\tthis.running = !!this.pending;\n\t\t},\n\t\tabort: function() {\n\t\t\tif (obj.tick) obj.tick(1);\n\t\t\tif (obj.css) transitionManager.deleteRule(node, this.program.name);\n\t\t\tthis.program = this.pending = null;\n\t\t\tthis.running = false;\n\t\t}\n\t};\n}\n\nvar transitionManager = {\n\trunning: false,\n\ttransitions: [],\n\tbound: null,\n\tstylesheet: null,\n\tactiveRules: {},\n\n\tadd: function(transition) {\n\t\tthis.transitions.push(transition);\n\n\t\tif (!this.running) {\n\t\t\tthis.running = true;\n\t\t\trequestAnimationFrame(this.bound || (this.bound = this.next.bind(this)));\n\t\t}\n\t},\n\n\taddRule: function(rule, name) {\n\t\tif (!this.activeRules[name]) {\n\t\t\tthis.activeRules[name] = true;\n\t\t\tthis.stylesheet.insertRule('@keyframes ' + name + ' ' + rule, this.stylesheet.cssRules.length);\n\t\t}\n\t},\n\n\tnext: function() {\n\t\tthis.running = false;\n\n\t\tvar now = window.performance.now();\n\t\tvar i = this.transitions.length;\n\n\t\twhile (i--) {\n\t\t\tvar transition = this.transitions[i];\n\n\t\t\tif (transition.program && now >= transition.program.end) {\n\t\t\t\ttransition.done();\n\t\t\t}\n\n\t\t\tif (transition.pending && now >= transition.pending.start) {\n\t\t\t\ttransition.start(transition.pending);\n\t\t\t}\n\n\t\t\tif (transition.running) {\n\t\t\t\ttransition.update(now);\n\t\t\t\tthis.running = true;\n\t\t\t} else if (!transition.pending) {\n\t\t\t\tthis.transitions.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (this.running) {\n\t\t\trequestAnimationFrame(this.bound);\n\t\t} else if (this.stylesheet) {\n\t\t\tvar i = this.stylesheet.cssRules.length;\n\t\t\twhile (i--) this.stylesheet.deleteRule(i);\n\t\t\tthis.activeRules = {};\n\t\t}\n\t},\n\n\tdeleteRule: function(node, name) {\n\t\tnode.style.animation = node.style.animation\n\t\t\t.split(', ')\n\t\t\t.filter(function(anim) {\n\t\t\t\treturn anim.slice(0, name.length) !== name;\n\t\t\t})\n\t\t\t.join(', ');\n\t}\n};\n\nfunction blankObject() {\n\treturn Object.create(null);\n}\n\nfunction destroy(detach) {\n\tthis.destroy = noop;\n\tthis.fire('destroy');\n\tthis.set = this.get = noop;\n\n\tif (detach !== false) this._fragment.u();\n\tthis._fragment.d();\n\tthis._fragment = this._state = null;\n}\n\nfunction destroyDev(detach) {\n\tdestroy.call(this, detach);\n\tthis.destroy = function() {\n\t\tconsole.warn('Component was already destroyed');\n\t};\n}\n\nfunction differs(a, b) {\n\treturn a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\n\nfunction dispatchObservers(component, group, changed, newState, oldState) {\n\tfor (var key in group) {\n\t\tif (!changed[key]) continue;\n\n\t\tvar newValue = newState[key];\n\t\tvar oldValue = oldState[key];\n\n\t\tvar callbacks = group[key];\n\t\tif (!callbacks) continue;\n\n\t\tfor (var i = 0; i < callbacks.length; i += 1) {\n\t\t\tvar callback = callbacks[i];\n\t\t\tif (callback.__calling) continue;\n\n\t\t\tcallback.__calling = true;\n\t\t\tcallback.call(component, newValue, oldValue);\n\t\t\tcallback.__calling = false;\n\t\t}\n\t}\n}\n\nfunction fire(eventName, data) {\n\tvar handlers =\n\t\teventName in this._handlers && this._handlers[eventName].slice();\n\tif (!handlers) return;\n\n\tfor (var i = 0; i < handlers.length; i += 1) {\n\t\thandlers[i].call(this, data);\n\t}\n}\n\nfunction get(key) {\n\treturn key ? this._state[key] : this._state;\n}\n\nfunction init(component, options) {\n\tcomponent._observers = { pre: blankObject(), post: blankObject() };\n\tcomponent._handlers = blankObject();\n\tcomponent._bind = options._bind;\n\n\tcomponent.options = options;\n\tcomponent.root = options.root || component;\n\tcomponent.store = component.root.store || options.store;\n}\n\nfunction observe(key, callback, options) {\n\tvar group = options && options.defer\n\t\t? this._observers.post\n\t\t: this._observers.pre;\n\n\t(group[key] || (group[key] = [])).push(callback);\n\n\tif (!options || options.init !== false) {\n\t\tcallback.__calling = true;\n\t\tcallback.call(this, this._state[key]);\n\t\tcallback.__calling = false;\n\t}\n\n\treturn {\n\t\tcancel: function() {\n\t\t\tvar index = group[key].indexOf(callback);\n\t\t\tif (~index) group[key].splice(index, 1);\n\t\t}\n\t};\n}\n\nfunction observeDev(key, callback, options) {\n\tvar c = (key = '' + key).search(/[^\\w]/);\n\tif (c > -1) {\n\t\tvar message =\n\t\t\t'The first argument to component.observe(...) must be the name of a top-level property';\n\t\tif (c > 0)\n\t\t\tmessage += \", i.e. '\" + key.slice(0, c) + \"' rather than '\" + key + \"'\";\n\n\t\tthrow new Error(message);\n\t}\n\n\treturn observe.call(this, key, callback, options);\n}\n\nfunction on(eventName, handler) {\n\tif (eventName === 'teardown') return this.on('destroy', handler);\n\n\tvar handlers = this._handlers[eventName] || (this._handlers[eventName] = []);\n\thandlers.push(handler);\n\n\treturn {\n\t\tcancel: function() {\n\t\t\tvar index = handlers.indexOf(handler);\n\t\t\tif (~index) handlers.splice(index, 1);\n\t\t}\n\t};\n}\n\nfunction onDev(eventName, handler) {\n\tif (eventName === 'teardown') {\n\t\tconsole.warn(\n\t\t\t\"Use component.on('destroy', ...) instead of component.on('teardown', ...) which has been deprecated and will be unsupported in Svelte 2\"\n\t\t);\n\t\treturn this.on('destroy', handler);\n\t}\n\n\treturn on.call(this, eventName, handler);\n}\n\nfunction set(newState) {\n\tthis._set(assign({}, newState));\n\tif (this.root._lock) return;\n\tthis.root._lock = true;\n\tcallAll(this.root._beforecreate);\n\tcallAll(this.root._oncreate);\n\tcallAll(this.root._aftercreate);\n\tthis.root._lock = false;\n}\n\nfunction _set(newState) {\n\tvar oldState = this._state,\n\t\tchanged = {},\n\t\tdirty = false;\n\n\tfor (var key in newState) {\n\t\tif (differs(newState[key], oldState[key])) changed[key] = dirty = true;\n\t}\n\tif (!dirty) return;\n\n\tthis._state = assign({}, oldState, newState);\n\tthis._recompute(changed, this._state);\n\tif (this._bind) this._bind(changed, this._state);\n\n\tif (this._fragment) {\n\t\tdispatchObservers(this, this._observers.pre, changed, this._state, oldState);\n\t\tthis._fragment.p(changed, this._state);\n\t\tdispatchObservers(this, this._observers.post, changed, this._state, oldState);\n\t}\n}\n\nfunction setDev(newState) {\n\tif (typeof newState !== 'object') {\n\t\tthrow new Error(\n\t\t\tthis._debugName + '.set was called without an object of data key-values to update.'\n\t\t);\n\t}\n\n\tthis._checkReadOnly(newState);\n\tset.call(this, newState);\n}\n\nfunction callAll(fns) {\n\twhile (fns && fns.length) fns.pop()();\n}\n\nfunction _mount(target, anchor) {\n\tthis._fragment.m(target, anchor);\n}\n\nfunction _unmount() {\n\tif (this._fragment) this._fragment.u();\n}\n\nfunction isPromise(value) {\n\treturn value && typeof value.then === 'function';\n}\n\nvar PENDING = {};\nvar SUCCESS = {};\nvar FAILURE = {};\n\nfunction removeFromStore() {\n\tthis.store._remove(this);\n}\n\nvar proto = {\n\tdestroy: destroy,\n\tget: get,\n\tfire: fire,\n\tobserve: observe,\n\ton: on,\n\tset: set,\n\tteardown: destroy,\n\t_recompute: noop,\n\t_set: _set,\n\t_mount: _mount,\n\t_unmount: _unmount\n};\n\nvar protoDev = {\n\tdestroy: destroyDev,\n\tget: get,\n\tfire: fire,\n\tobserve: observeDev,\n\ton: onDev,\n\tset: setDev,\n\tteardown: destroyDev,\n\t_recompute: noop,\n\t_set: _set,\n\t_mount: _mount,\n\t_unmount: _unmount\n};\n\nexport { blankObject, destroy, destroyDev, differs, dispatchObservers, fire, get, init, observe, observeDev, on, onDev, set, _set, setDev, callAll, _mount, _unmount, isPromise, PENDING, SUCCESS, FAILURE, removeFromStore, proto, protoDev, appendNode, insertNode, detachNode, detachBetween, detachBefore, detachAfter, reinsertBetween, reinsertChildren, reinsertAfter, reinsertBefore, destroyEach, createFragment, createElement, createSvgElement, createText, createComment, addListener, removeListener, setAttribute, setXlinkAttribute, getBindingGroupValue, toNumber, timeRangesToArray, children, claimElement, claimText, setInputType, setStyle, selectOption, selectOptions, selectValue, selectMultipleValue, linear, generateRule, hash, wrapTransition, transitionManager, noop, assign };\n","import {\n\tassign,\n\tblankObject,\n\tdiffers,\n\tdispatchObservers,\n\tget,\n\tobserve\n} from './shared.js';\n\nfunction Store(state) {\n\tthis._observers = { pre: blankObject(), post: blankObject() };\n\tthis._changeHandlers = [];\n\tthis._dependents = [];\n\n\tthis._computed = blankObject();\n\tthis._sortedComputedProperties = [];\n\n\tthis._state = assign({}, state);\n}\n\nassign(Store.prototype, {\n\t_add: function(component, props) {\n\t\tthis._dependents.push({\n\t\t\tcomponent: component,\n\t\t\tprops: props\n\t\t});\n\t},\n\n\t_init: function(props) {\n\t\tvar state = {};\n\t\tfor (var i = 0; i < props.length; i += 1) {\n\t\t\tvar prop = props[i];\n\t\t\tstate['$' + prop] = this._state[prop];\n\t\t}\n\t\treturn state;\n\t},\n\n\t_remove: function(component) {\n\t\tvar i = this._dependents.length;\n\t\twhile (i--) {\n\t\t\tif (this._dependents[i].component === component) {\n\t\t\t\tthis._dependents.splice(i, 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\n\t_sortComputedProperties: function() {\n\t\tvar computed = this._computed;\n\t\tvar sorted = this._sortedComputedProperties = [];\n\t\tvar cycles;\n\t\tvar visited = blankObject();\n\n\t\tfunction visit(key) {\n\t\t\tif (cycles[key]) {\n\t\t\t\tthrow new Error('Cyclical dependency detected');\n\t\t\t}\n\n\t\t\tif (visited[key]) return;\n\t\t\tvisited[key] = true;\n\n\t\t\tvar c = computed[key];\n\n\t\t\tif (c) {\n\t\t\t\tcycles[key] = true;\n\t\t\t\tc.deps.forEach(visit);\n\t\t\t\tsorted.push(c);\n\t\t\t}\n\t\t}\n\n\t\tfor (var key in this._computed) {\n\t\t\tcycles = blankObject();\n\t\t\tvisit(key);\n\t\t}\n\t},\n\n\tcompute: function(key, deps, fn) {\n\t\tvar store = this;\n\t\tvar value;\n\n\t\tvar c = {\n\t\t\tdeps: deps,\n\t\t\tupdate: function(state, changed, dirty) {\n\t\t\t\tvar values = deps.map(function(dep) {\n\t\t\t\t\tif (dep in changed) dirty = true;\n\t\t\t\t\treturn state[dep];\n\t\t\t\t});\n\n\t\t\t\tif (dirty) {\n\t\t\t\t\tvar newValue = fn.apply(null, values);\n\t\t\t\t\tif (differs(newValue, value)) {\n\t\t\t\t\t\tvalue = newValue;\n\t\t\t\t\t\tchanged[key] = true;\n\t\t\t\t\t\tstate[key] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tc.update(this._state, {}, true);\n\n\t\tthis._computed[key] = c;\n\t\tthis._sortComputedProperties();\n\t},\n\n\tget: get,\n\n\tobserve: observe,\n\n\tonchange: function(callback) {\n\t\tthis._changeHandlers.push(callback);\n\t\treturn {\n\t\t\tcancel: function() {\n\t\t\t\tvar index = this._changeHandlers.indexOf(callback);\n\t\t\t\tif (~index) this._changeHandlers.splice(index, 1);\n\t\t\t}\n\t\t};\n\t},\n\n\tset: function(newState) {\n\t\tvar oldState = this._state,\n\t\t\tchanged = this._changed = {},\n\t\t\tdirty = false;\n\n\t\tfor (var key in newState) {\n\t\t\tif (this._computed[key]) throw new Error(\"'\" + key + \"' is a read-only property\");\n\t\t\tif (differs(newState[key], oldState[key])) changed[key] = dirty = true;\n\t\t}\n\t\tif (!dirty) return;\n\n\t\tthis._state = assign({}, oldState, newState);\n\n\t\tfor (var i = 0; i < this._sortedComputedProperties.length; i += 1) {\n\t\t\tthis._sortedComputedProperties[i].update(this._state, changed);\n\t\t}\n\n\t\tfor (var i = 0; i < this._changeHandlers.length; i += 1) {\n\t\t\tthis._changeHandlers[i](this._state, changed);\n\t\t}\n\n\t\tdispatchObservers(this, this._observers.pre, changed, this._state, oldState);\n\n\t\tvar dependents = this._dependents.slice(); // guard against mutations\n\t\tfor (var i = 0; i < dependents.length; i += 1) {\n\t\t\tvar dependent = dependents[i];\n\t\t\tvar componentState = {};\n\t\t\tdirty = false;\n\n\t\t\tfor (var j = 0; j < dependent.props.length; j += 1) {\n\t\t\t\tvar prop = dependent.props[j];\n\t\t\t\tif (prop in changed) {\n\t\t\t\t\tcomponentState['$' + prop] = this._state[prop];\n\t\t\t\t\tdirty = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty) dependent.component.set(componentState);\n\t\t}\n\n\t\tdispatchObservers(this, this._observers.post, changed, this._state, oldState);\n\t}\n});\n\nexport { Store };","function RssParser() {\n  const DC_NAMESPACE = 'http://purl.org/dc/elements/1.1/';\n  const RDF_NAMESPACE = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#';\n  const ISO_DATE_PATTERN = /([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9:]+).*$/;\n\n  const getDocument = function(xml) {\n    if (!xml) return;\n\n    let doc;\n\n    if (document.implementation.createDocument) {\n      const parser = new DOMParser();\n      doc = parser.parseFromString(xml, 'application/xml');\n    } else if (window.ActiveXObject) {\n      doc = new window.ActiveXObject('Microsoft.XMLDOM');\n      doc.async = 'false';\n      doc.loadXML(xml);\n    }\n\n    return doc;\n  };\n\n  const getChildElement = function(name, parent, namespace) {\n    if (!name || !parent) return null;\n    let method = 'getElementsByTagName';\n    if (namespace) method += 'NS';\n    return parent[method](name, namespace)[0];\n  };\n\n  const getText = function(node) {\n    if (!node) return '';\n    if (node.length) node = node[0];\n    return node.textContent;\n  };\n\n  const error = Error('Malformed RSS syntax');\n\n  const parseRss = function(root, type) {\n    const rss = { items: [] };\n    const channel = getChildElement('channel', root);\n\n    if (!channel) throw error;\n\n    rss.format = 'RSS';\n    rss.version = type === 'rdf:RDF' ? '1.0' : root.getAttribute('version');\n    rss.title = getText(getChildElement('title', channel));\n    rss.description = getText(getChildElement('description', channel));\n    rss.link = getText(getChildElement('link', channel));\n\n    const image = getChildElement('image', channel);\n\n    rss.image = image\n      ? {\n          source: getText(getChildElement('url', image)) || image.getAttributeNS(RDF_NAMESPACE, 'resource'),\n          title: getText(getChildElement('title', image)),\n          link: getText(getChildElement('link', image)),\n          width: getText(getChildElement('width', image)),\n          height: getText(getChildElement('height', image)),\n          description: getText(getChildElement('description', image))\n        }\n      : '';\n\n    if (type === 'rdf:RDF') {\n      const date = channel.getElementsByTagNameNS(DC_NAMESPACE, 'date');\n      rss.date = getDate(getText(date));\n      rss.rights = getText(channel.getElementsByTagNameNS(DC_NAMESPACE, 'creator'));\n\n      const textInput = getChildElement('textinput', root);\n\n      rss.input = textInput\n        ? {\n            link: getText(getChildElement('link', textInput)),\n            description: getText(getChildElement('description', textInput)),\n            name: getText(getChildElement('name', textInput)),\n            title: getText(getChildElement('title', textInput))\n          }\n        : '';\n    } else {\n      rss.date = getDate(\n        getText(getChildElement('lastBuildDate', channel)) || getText(getChildElement('pubDate', channel))\n      );\n      rss.rights = getText(getChildElement('copyright', channel));\n    }\n\n    // Create a native Array from HTMLCollection\n    const items = Array.apply(null, root.getElementsByTagName('item'));\n\n    items.forEach(node => {\n      const item = {\n        title: getText(getChildElement('title', node)),\n        description: getText(getChildElement('description', node)),\n        link: getText(getChildElement('link', node)) || getText(getChildElement('guid', node))\n      };\n\n      if (!item.description) {\n        let content = getText(getChildElement('encoded', node, 'content'));\n        if (content) {\n          item.description = content;\n        } else {\n          content = getText(getChildElement('encoded', node));\n          if (content) {\n            item.description = content;\n          }\n        }\n      }\n\n      addItemExtensions(node, item);\n      rss.items.push(item);\n    });\n\n    return rss;\n  };\n\n  const parseAtom = function(root) {\n    const rss = { items: [] };\n\n    rss.format = 'Atom';\n    rss.version = '1.0';\n    rss.title = getText(getChildElement('title', root));\n    rss.description = getText(getChildElement('subtitle', root));\n    rss.image = '';\n\n    const link = getChildElement('link:not([self])', root);\n    if (link) rss.link = link.getAttribute('href');\n\n    rss.date = getDate(getChildElement('updated', root));\n\n    const entries = Array.apply(null, root.getElementsByTagName('entry'));\n\n    entries.forEach(node => {\n      const item = {\n        title: getText(getChildElement('title', node)),\n        description: getText(getChildElement('summary', node))\n      };\n\n      const link = getChildElement('link', node);\n      if (link) item.link = link.getAttribute('href');\n\n      rss.items.push(item);\n    });\n\n    return rss;\n  };\n\n  const parseScriptingNews = function(root) {\n    const rss = { items: [] };\n    const channel = getChildElement('header', root);\n\n    if (!channel) throw error;\n\n    rss.format = 'Scripting News';\n    rss.version = getText(getChildElement('scriptingNewsVersion', channel));\n    rss.title = getText(getChildElement('channelTitle', channel));\n    rss.description = getText(getChildElement('channelDescription', channel));\n    rss.link = getText(getChildElement('channelLink', channel));\n\n    rss.date = getDate(\n      getText(getChildElement('lastBuildDate', channel)) || getText(getChildElement('pubDate', channel))\n    );\n\n    const imageUrl = getChildElement('imageUrl', channel);\n\n    if (imageUrl) {\n      rss.image = {\n        source: getText(imageUrl),\n        title: getText(getChildElement('imageTitle', channel)),\n        link: getText(getChildElement('imageLink', channel)),\n        width: getText(getChildElement('imageWidth', channel)),\n        height: getText(getChildElement('imageHeight', channel)),\n        description: getText(getChildElement('imageCaption', channel))\n      };\n    }\n\n    const items = Array.apply(null, root.getElementsByTagName('item'));\n\n    items.forEach(node => {\n      const item = { title: '' };\n\n      item.description = getText(getChildElement('text', node)).replace(/\\n/g, ' ');\n\n      const link = getChildElement('link', node);\n\n      if (link) {\n        const text = getText(getChildElement('linetext', link))\n          .replace(/\\n/g, ' ')\n          .trim();\n        if (text) {\n          item.description = item.description.replace(\n            new RegExp(text),\n            '<a href=\"' + getText(getChildElement('url', node)) + '\">' + text + '</a>'\n          );\n        }\n        item.link = getText(getChildElement('url', link));\n      }\n\n      addItemExtensions(node, item);\n      rss.items.push(item);\n    });\n\n    return rss;\n  };\n\n  const addItemExtensions = function(node, item) {\n    const source = getChildElement('source', node);\n    // Create a native Array from HTMLCollection\n    const enclosures = Array.apply(null, node.getElementsByTagName('enclosure'));\n    const category = getChildElement('category', node);\n\n    if (source) {\n      item.source = {\n        url: source.getAttribute('url'),\n        title: source.textContent\n      };\n    }\n\n    item.enclosures = enclosures.map(enclosure => {\n      return {\n        url: enclosure.getAttribute('url'),\n        length: enclosure.getAttribute('length'),\n        type: enclosure.getAttribute('type')\n      };\n    });\n\n    if (category) {\n      item.category = {\n        domain: category.getAttribute('domain') || '',\n        content: category.textContent\n      };\n    }\n\n    return item;\n  };\n\n  const getDate = function(str) {\n    let millis = Date.parse(str);\n\n    if (isNaN(millis)) {\n      millis = Date.parse(String(str).replace(ISO_DATE_PATTERN, '$1/$2/$3 $4'));\n      if (isNaN(millis)) millis = Date.now();\n    }\n\n    return new Date(millis);\n  };\n\n  return {\n    parse: function(xml) {\n      const doc = getDocument(xml);\n      const root = doc.documentElement;\n      const type = root.nodeName;\n\n      switch (type) {\n        case 'feed':\n          return parseAtom(root);\n\n        case 'scriptingNews':\n          return parseScriptingNews(root);\n\n        default:\n          return parseRss(root, type);\n      }\n    }\n  };\n}\n\nexport { RssParser };\n","const mode = 'prod';\nconst base = 'http://192.168.8.101';\n\nconst urls = (settings => {\n  return settings[mode] || {};\n})({\n  dev: {\n    app: base + ':5000',\n    proxy: base + ':8081/roxy',\n    referrers: base + ':8081/ferris?group=rssbox'\n  },\n\n  stage: {\n    app: 'https://p3k.org/rss-stage/',\n    proxy: 'https://6-dot-p3k-services.appspot.com/roxy',\n    referrers: 'https://6-dot-p3k-services.appspot.com/ferris?group=rssbox'\n  },\n\n  mixed: {\n    app: base + ':5000',\n    proxy: 'https://6-dot-p3k-services.appspot.com/roxy',\n    referrers: 'https://6-dot-p3k-services.appspot.com/ferris?group=rssbox'\n  }\n});\n\n//urls.default = urls.app + '/test/sampleRssAtom.xml';\n//urls.default = 'http://www.wienerzeitung.at/_export/rss/nachrichten/schlagzeilen/index.rss';\n\nexport { urls };\n","import { urls as localUrls } from './local';\n\n// These are backwards-compatible settings\nexport const defaults = {\n  align: 'initial',\n  boxFillColor: '#fff',\n  compact: false,\n  fontFace: 'inherit',\n  frameColor: '#000',\n  headless: false,\n  height: '',\n  linkColor: '',\n  maxItems: 7,\n  radius: 0,\n  showXmlButton: false,\n  textColor: '#000',\n  titleBarColor: '#add8e6',\n  titleBarTextColor: '#000',\n  width: 200\n};\n\nexport const keys = [\n  'align',\n  'boxFillColor',\n  'compact',\n  'fontFace',\n  'frameColor',\n  'headless',\n  'height',\n  'linkColor',\n  'maxItems',\n  'radius',\n  'showXmlButton',\n  'textColor',\n  'titleBarColor',\n  'titleBarTextColor',\n  'url',\n  'width'\n];\n\nconst baseUrl = '//p3k.org';\nconst serviceUrl = '//p3k-services.appspot.com';\n\nconst urls = {\n  app: baseUrl + '/rss',\n  proxy: location.protocol + serviceUrl + '/roxy',\n  referrers: location.protocol + serviceUrl + '/ferris?group=rssbox',\n  default: 'https://blog.p3k.org/stories.xml'\n};\n\nfor (let key in urls) {\n  if (key in localUrls) urls[key] = localUrls[key];\n}\n\nexport { urls };\n","import { urls } from './settings';\n\nconst defaultError = {\n  loading: false,\n  compact: false,\n  maxItems: 3,\n  format: 'Error',\n  version: '❌',\n  link: urls.app,\n  title: 'RSS Box Error',\n  description:\n    'This output was automatically generated to report an error that occurred during a request to the  RSS Box Viewer.',\n  items: [\n    {\n      title: 'Oops, something went wrong…',\n      description: 'An error occurred while processing the request to the RSS Box Viewer.'\n    },\n    {\n      title: 'The following error message was returned:',\n      description: 'Unknown error'\n    },\n    { title: '' }\n  ]\n};\n\nexport default function(url, message) {\n  const error = Object.assign({}, defaultError);\n  error.items[1].description = message;\n  error.items[2].description = `Most likely, this might have happened because of a non-existent or invalid RSS feed URL. <a href=\"https://validator.w3.org/feed/check.cgi?url=${url}\">Please check</a> and possibly correct your input, then try again.`;\n  return error;\n}\n","import { Store } from 'svelte/store';\nimport { RssParser } from './RssParser';\nimport { urls, defaults } from './settings';\nimport error from './error';\n\nexport default class RssStore extends Store {\n  constructor() {\n    const settings = {\n      date: new Date(),\n      description: '',\n      format: '',\n      image: '',\n      input: '',\n      items: [],\n      title: '',\n      version: ''\n    };\n\n    super(settings);\n\n    this.compute('formattedDate', ['date'], date => {\n      if (!date) return;\n      let month = (date.getMonth() + 1).toString().padStart(2, '0');\n      let day = date\n        .getDate()\n        .toString()\n        .padStart(2, '0');\n      let hours = date\n        .getHours()\n        .toString()\n        .padStart(2, '0');\n      let minutes = date\n        .getMinutes()\n        .toString()\n        .padStart(2, '0');\n      return `${date.getFullYear()}-${month}-${day}, ${hours}:${minutes}h`;\n    });\n\n    this.observe('url', this.fetch, { init: false });\n  }\n\n  fetch() {\n    const url = this.get('url');\n    if (!url) return;\n\n    this.set({ loading: true });\n\n    fetch(urls.proxy + '?url=' + encodeURIComponent(url))\n      .then(res => {\n        if (!res.ok) throw Error(res.statusText);\n\n        res\n          .text()\n          .then(json => {\n            const parser = RssParser();\n            const data = JSON.parse(json);\n            if (data.headers['X-Roxy-Error']) throw Error(data.headers['X-Roxy-Error']);\n            const rss = parser.parse(data.content);\n            if (!rss.date) rss.date = new Date(data.headers.date);\n            rss.loading = false;\n            this.set(rss);\n          })\n          .catch(message => {\n            this.set(error(url, message));\n            console.error(message);\n          });\n      })\n      .catch(message => {\n        this.set(error(url, message));\n        console.error(message);\n      });\n  }\n}\n","<div data-link-color='{{ $linkColor }}' class='rssbox rssBox' style='max-width: {{ width }}; border-color: {{ $frameColor }}; border-radius: {{ $radius }}px; font: {{ $fontFace }}; float: {{ $align }};'>\n  {{ #if !$headless }}\n    <div class='rssbox-titlebar' style='color: {{ $titleBarTextColor }}; background-color: {{ $titleBarColor }}; border-bottom-color: {{ $frameColor }};'>\n      {{ #if $showXmlButton }}\n        <div class='rssbox-icon'>\n          <a href='{{ $url }}' title='{{ $format }} {{ $version }}' style='color: {{ $titleBarTextColor }}'>\n            <RssIcon/>\n          </a>\n        </div>\n      {{ /if }}\n      <div>\n        <a href='{{ $link }}' style='color: {{ $titleBarTextColor }};'>\n          {{ $title }}\n        </a>\n      </div>\n      <div class='rssbox-date'>\n        {{ $formattedDate }}\n      </div>\n    </div>\n  {{ /if }}\n\n  <div class='rssbox-content rssBoxContent' style='background-color: {{ $boxFillColor }}; height: {{ height }};'>\n    {{ #if $image && !$compact }}\n      {{ #await load($image) }}\n      {{ then image }}\n        <a href='{{ $image.link }}' title='{{ $image.title }}'>\n          <div alt='{{ $image.description }}' class='rssbox-image' style='background-image: url({{ $image.source }}); width: {{ image.width }}; height: {{ image.height }};'></div>\n        </a>\n      {{ /await }}\n    {{ /if }}\n\n    {{ #each $items as item, index }}\n      {{ #if index < $maxItems }}\n        <div class='rssbox-item-content rssBoxItemContent' style='color: {{ $textColor }}'>\n          {{ #if item.title }}\n            <div class='rssbox-item-title {{ itemTitleClass }}'>\n              {{ #if item.link }}\n                <a href='{{ item.link }}'>\n                  {{{ item.title }}}\n                </a>\n              {{ else }}\n                {{{ item.title }}}\n              {{ /if }}\n            </div>\n          {{ /if }}\n\n          {{ #if !$compact }}\n            <aside>\n              {{ #if item.source }}\n                <a href='{{ item.source.url }}' title='{{ item.source.title }}' class='rssbox-source'>\n                  {{ #if item.source.url.endsWith('.xml') }}\n                    <RssIcon/>\n                  {{ else }}\n                    <LinkIcon/>\n                  {{ /if }}\n                </a>\n              {{ /if }}\n\n              {{ #if item.enclosures }}\n                {{ #each item.enclosures as enclosure }}\n                  <a href='{{ enclosure.url }}' title='{{ kb(enclosure.length) }} {{ enclosure.type }}' class='rssbox-enclosure'>\n                    <PaperclipIcon/>\n                  </a>\n                {{ /each }}\n              {{ /if }}\n            </aside>\n            {{{ item.description }}}\n          {{ /if }}\n        </div>\n      {{ /if }}\n    {{ /each }}\n\n    {{ #if $input }}\n      <form class='rssbox-form' method='get' action='{{ $input.link }}'>\n        <input type='text' name='{{ $input.name }}' placeholder='Enter search &amp; hit return…' data-placeholder='{{ $input.description }}'>\n        <!-- input type='submit' value='{{ $input.title }}' -->\n      </form>\n    {{ /if }}\n    <div class='rssbox-promo rssBoxPromo'>\n      <a href='{{ appUrl() }}' style='color: {{ $textColor }}'>RSS Box by p3k.org</a>\n    </div>\n  </div>\n</div>\n\n<style>\n  .rssbox {\n    box-sizing: border-box;\n    width: 100%;\n    border: 1px solid #000;\n    font-family: sans-serif;\n    overflow: hidden;\n    border-radius: 0;\n    -moz-border-radius: 0;\n  }\n\n  .rssbox-icon {\n    float: right;\n    width: 1em;\n    margin-left: 0.5em;\n  }\n\n  .rssbox-titlebar {\n    padding: 0.5em;\n    color: #000;\n    background-color: #add8e6;\n    border-bottom: 1px solid #000;\n    font-weight: bold;\n    letter-spacing: 0.02em;\n  }\n\n  .rssbox-date {\n    margin-top: 0.2em;\n    font-size: 0.8em;\n    font-weight: normal;\n  }\n\n  .rssbox-content {\n    height: auto;\n    padding: 0.5em;\n    overflow-x: hidden;\n    overflow-y: auto;\n    background-color: #fff;\n    clear: both;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n  }\n\n  .rssbox-content aside {\n    clear: both;\n    float: right;\n  }\n\n  .rssbox-content aside a {\n    display: block;\n    margin-left: 0.5em;\n  }\n\n  .rssbox-image {\n    float: right;\n    margin: 0 0 0.5em 0.5em;\n    background-position: left center;\n    background-repeat: no-repeat;\n    background-size: contain;\n  }\n\n  .rssbox-item-title.bold {\n    font-weight: bold;\n  }\n\n  .rssbox-enclosure, .rssbox-source {\n    display: block;\n    width: 1em;\n  }\n\n  .rssbox-form {\n    margin-bottom: 0.8em;\n  }\n\n  .rssbox-form input {\n    padding: 0.5em;\n    background-color: #fff;\n  }\n\n  .rssbox-promo {\n    text-align: right;\n    font-size: 0.7em;\n    letter-spacing: 0.01em;\n  }\n</style>\n\n<script>\n  import { urls } from '../src/settings';\n  import LinkIcon from './LinkIcon.html';\n  import RssIcon from './RssIcon.html';\n  import PaperclipIcon from './PaperclipIcon.html';\n\n  export default {\n    components: {\n      LinkIcon,\n      PaperclipIcon,\n      RssIcon\n    },\n\n    oncreate() {\n      const staticId = 'rssbox-static-stylesheet';\n      const dynamicId = 'rssbox-dynamic-stylesheet';\n\n      let staticCss = window[staticId];\n      let dynamicCss = window[dynamicId];\n\n      if (!staticCss) {\n        staticCss = document.createElement('link');\n        staticCss.id = staticId;\n        staticCss.rel = 'stylesheet';\n        staticCss.href = urls.app + '/box.css';\n        document.head.appendChild(staticCss);\n      }\n\n      if (!dynamicCss) {\n        dynamicCss = document.createElement('style');\n        dynamicCss.id = dynamicId;\n        document.head.appendChild(dynamicCss);\n      }\n\n      this.store.observe('linkColor', color => {\n        if (!color) return;\n\n        let rule =\n          `.rssbox[data-link-color=\"${color}\"] a {\n            color: ${color};\n          }`;\n\n        if (dynamicCss.innerHTML.indexOf(rule) < 0) dynamicCss.innerHTML += rule;\n      });\n    },\n\n    helpers: {\n      kb(bytes) {\n        return (bytes / 1000).toFixed(2) + '\\u200akB';\n      },\n\n      // Without the dummy argument Svelte complains about this not being a pure function\n      appUrl(dummy = null) {\n        return urls.app;\n      },\n\n      load(data) {\n        return new Promise(fulfill => {\n          const image = new Image();\n\n          image.onload = () => {\n            const maxWidth = Math.min(100, image.width);\n            const factor = image.width > maxWidth ? maxWidth / image.width : 1;\n\n            fulfill({\n              width: (image.width * factor) + 'px',\n              height: (image.height * factor) + 'px'\n            });\n          };\n\n          image.src = data.source;\n        });\n      }\n    },\n\n    computed: {\n      height: $height => $height && $height > -1 ? $height + 'px' : '100%',\n      width: $width => $width ? $width + 'px' : '100%',\n      itemTitleClass: $compact => !$compact ? 'bold' : ''\n    }\n  };\n</script>\n","import ready from 'domready';\n\nimport RssStore from './RssStore';\nimport Box from '../components/Box.html';\nimport { defaults, keys, urls } from './settings';\nimport polyfill from './polyfill.io';\n\nready(\n  polyfill(() => {\n    const getNativeValue = value => {\n      if (value === 'true') return true;\n      if (value === 'false') return false;\n      return value;\n    };\n\n    const parseQuery = query => {\n      const parts = query.split('&');\n      return parts.reduce((data, pair) => {\n        const [key, value] = pair.split('=');\n        if (keys.indexOf(key) > -1) {\n          data[key] = getNativeValue(decodeURIComponent(value));\n        }\n        return data;\n      }, {});\n    };\n\n    const search = urls.app;\n    const scripts = Array.apply(null, document.querySelectorAll('script[src*=\"' + search + '\"]'));\n\n    scripts.forEach(script => {\n      const query = script.src.split('?')[1];\n      if (!query) return;\n\n      let data = parseQuery(query);\n\n      if (!data.url) data.url = urls.default;\n      data = Object.assign({}, defaults, data);\n\n      const store = new RssStore();\n      store.set(data);\n\n      const parent = script.parentNode;\n      const container = document.createElement('div');\n      parent.insertBefore(container, script);\n\n      void new Box({\n        target: container,\n        store\n      });\n\n      // Only for IE11\n      script.parentNode.removeChild(script);\n    });\n\n    if (location.href.indexOf(urls.app) < 0) {\n      fetch(urls.referrers + '&url=' + encodeURIComponent(location.href));\n    }\n  })\n);\n","export default callback => {\n  const features = ['fetch', 'Object.assign', 'Promise', 'String.prototype.padStart'];\n\n  const script = document.createElement('script');\n  script.src = 'https://cdn.polyfill.io/v2/polyfill.min.js?features=' + features.join();\n  script.defer = script.async = true;\n  script.onload = callback;\n  document.head.appendChild(script);\n};\n"],"names":["module","listener","fns","doc","document","domContentLoaded","loaded","documentElement","doScroll","test","readyState","addEventListener","removeEventListener","shift","fn","setTimeout","push","definition","noop","assign","target","k","source","i","len","arguments","length","appendNode","node","appendChild","insertNode","anchor","insertBefore","detachNode","parentNode","removeChild","detachBetween","before","after","nextSibling","destroyEach","iterations","d","createElement","name","createSvgElement","createElementNS","createText","data","createTextNode","createComment","setAttribute","attribute","value","setStyle","key","style","setProperty","blankObject","Object","create","destroy","detach","this","fire","set","get","_fragment","u","_state","differs","a","b","dispatchObservers","component","group","changed","newState","oldState","newValue","oldValue","callbacks","callback","__calling","call","init","options","_observers","pre","post","_handlers","_bind","root","store","observe","defer","cancel","index","indexOf","splice","callAll","pop","removeFromStore","_remove","proto","eventName","handlers","slice","on","handler","_set","_lock","_beforecreate","_oncreate","_aftercreate","teardown","_recompute","dirty","p","_mount","m","_unmount","Store","state","_changeHandlers","_dependents","_computed","_sortedComputedProperties","prototype","_add","props","_init","prop","_sortComputedProperties","cycles","computed","sorted","visited","visit","Error","c","deps","forEach","compute","update","values","map","dep","apply","onchange","_changed","dependents","dependent","componentState","j","RssParser","const","DC_NAMESPACE","ISO_DATE_PATTERN","getChildElement","parent","namespace","let","method","getText","textContent","error","addItemExtensions","item","enclosures","Array","getElementsByTagName","category","url","getAttribute","title","enclosure","type","domain","content","getDate","str","millis","Date","parse","isNaN","String","replace","now","xml","implementation","createDocument","DOMParser","parseFromString","window","ActiveXObject","async","loadXML","getDocument","nodeName","rss","items","format","version","description","image","link","date","parseAtom","channel","imageUrl","width","height","text","trim","RegExp","parseScriptingNews","getAttributeNS","getElementsByTagNameNS","rights","textInput","input","parseRss","base","urls","dev","app","proxy","referrers","stage","mixed","defaults","align","boxFillColor","compact","fontFace","frameColor","headless","linkColor","maxItems","radius","showXmlButton","textColor","titleBarColor","titleBarTextColor","keys","serviceUrl","baseUrl","location","protocol","default","localUrls","defaultError","loading","message","RssStore","settings","super","month","getMonth","toString","padStart","day","hours","getHours","minutes","getMinutes","getFullYear","fetch","encodeURIComponent","then","res","ok","statusText","json","parser","JSON","headers","catch","console","bytes","toFixed","Promise","fulfill","Image","onload","maxWidth","Math","min","factor","src","$headless","$image","$compact","$items","dummy","appUrl","$textColor","$boxFillColor","$linkColor","$frameColor","$radius","$fontFace","$align","$input","$url","$format","$version","$titleBarTextColor","$title","$formattedDate","$link","$titleBarColor","$showXmlButton","load","$maxItems","itemTitleClass","kb","endsWith","staticId","dynamicId","staticCss","dynamicCss","id","rel","href","head","color","rule","innerHTML","$height","$width","ready","script","join","polyfill","search","querySelectorAll","query","split","reduce","pair","decodeURIComponent","container","Box"],"mappings":"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"}